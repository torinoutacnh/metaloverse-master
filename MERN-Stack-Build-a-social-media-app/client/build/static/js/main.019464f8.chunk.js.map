{"version":3,"sources":["pages/discover.js","pages/post/[id].js","components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","utils/fetchData.js","pages sync /^/.*$","redux/actions/postAction.js","redux/actions/notifyAction.js","../node_modules/peerjs/dist sync","redux/actions/messageAction.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","components/WalletContext.tsx","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/index.js","redux/store.js","index.js","images/loading.gif","components/Avatar.js","redux/actions/profileAction.js","components/UserCard.js","utils/mediaShow.js","utils/imageUpload.js","components/LoadMoreBtn.js","components/FollowBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/suggestionsAction.js","redux/actions/discoverAction.js","redux/actions/globalTypes.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","pages/home.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js"],"names":["Discover","useSelector","state","auth","discover","dispatch","useDispatch","useState","load","setLoad","useEffect","firstLoad","getDiscoverPosts","token","handleLoadMore","a","getDataAPI","page","res","type","DISCOVER_TYPES","UPDATE_POST","payload","data","loading","src","LoadIcon","alt","className","posts","result","Post","id","useParams","post","setPost","detailPost","getPost","length","newArr","filter","_id","map","item","EditProfile","setOnEdit","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","setAvatar","theme","user","handleInput","e","target","name","value","onClick","onSubmit","preventDefault","updateProfileUser","URL","createObjectURL","style","accept","onChange","file","files","err","checkImage","GLOBALTYPES","ALERT","error","htmlFor","top","right","transform","cols","rows","Followers","users","setShowFollowers","UserCard","FollowBtn","Following","setShowFollowing","Info","profile","onEdit","showFollowers","showFollowing","newData","MODAL","Avatar","size","username","followers","following","email","href","rel","Posts","setPosts","setResult","setPage","forEach","PROFILE_TYPES","PostThumb","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","response","msg","Profile","saveTab","setSaveTab","ids","every","getProfileUsers","Times","total","parseInt","toString","MsgDisplay","window","confirm","deleteMessages","text","media","index","url","match","videoShow","imageShow","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString","RightSide","message","socket","peer","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","setData","isLoadMore","setIsLoadMore","history","useHistory","find","messages","setTimeout","current","scrollIntoView","behavior","block","newUser","handleSubmit","trim","imageUpload","sender","recipient","toISOString","addMessage","getMessagesData","getMessages","IntersectionObserver","entries","isIntersecting","p","threshold","observe","loadMoreMessages","caller","CALL","callUser","open","peerId","emit","cursor","deleteConversation","push","height","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","Icons","setContent","content","multiple","newMedia","disabled","Conversation","LeftSide","axios","get","headers","Authorization","postDataAPI","patchDataAPI","patch","deleteDataAPI","delete","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","GET_POST","DELETE_POST","createPost","images","newPost","recipients","image","createNotify","getPosts","updatePost","status","imgNewUrl","img","imgOldUrl","success","likePost","likes","unLikePost","like","removeNotify","deletePost","savePost","saved","AUTH","unSavePost","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","webpackEmptyContext","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","getConversations","conversations","cv","reverse","DeleteData","NotFound","minHeight","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","minWidth","title","outline","body","Notify","alert","NotifyModal","handleSound","sound","maxHeight","overflow","handleIsRead","slice","moment","fromNow","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","role","THEME","logout","Search","search","setSearch","setUsers","handleSearch","handleClose","toLowerCase","replace","border","Header","scrollTo","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","online","audioRef","on","off","Notification","onclick","includes","ONLINE","OFFLINE","controls","audiobell","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","playsInline","Wallet","network","WalletAdapterNetwork","Devnet","endpoint","useMemo","clusterApiUrl","wallets","PhantomWalletAdapter","SlopeWalletAdapter","SolflareWalletAdapter","TorusWalletAdapter","LedgerWalletAdapter","SolletWalletAdapter","SolletExtensionWalletAdapter","autoConnect","App","modal","refreshToken","io","SOCKET","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","Alert","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","modalReducer","detailPostReducer","discoverReducer","suggestionsReducer","SUGGES_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","messageReducer","onlineReducer","callReducer","peerReducer","combineReducers","homePosts","suggestions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","res1","follow","unfollow","showMsg","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","valid","password","cf_password","test","validateEmail","errMsg","errLength","login","access_token","setItem","register","check","removeItem","location","comments","Message","typePass","setTypePass","handleChangeInput","typeCfPass","setTypeCfPass","defaultChecked","Status","PostCard","RightSideBar","wordBreak","scroll","addEventListener","pageYOffset","searchUsers","setSearchUsers","handleAddUser","BASE_URL","CardHeader","clipboard","writeText","Carousel","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","setSaved","saveLoad","setSaveLoad","handleSavePost","handleUnSavePost","Send","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep"],"mappings":"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","file":"static/js/main.019464f8.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction'\r\nimport LoadIcon from '../images/loading.gif'\r\nimport PostThumb from '../components/PostThumb'\r\nimport LoadMoreBtn from '../components/LoadMoreBtn'\r\nimport { getDataAPI} from '../utils/fetchData'\r\n\r\nconst Discover = () => {\r\n    const { auth, discover } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(!discover.firstLoad){\r\n            dispatch(getDiscoverPosts(auth.token))\r\n        }\r\n    },[dispatch, auth.token, discover.firstLoad])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token)\r\n        dispatch({type: DISCOVER_TYPES.UPDATE_POST, payload: res.data})\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                discover.loading \r\n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n                : <PostThumb posts={discover.posts} result={discover.result} />\r\n            }\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            {\r\n                !discover.loading &&\r\n                <LoadMoreBtn result={discover.result} page={discover.page}\r\n                load={load} handleLoadMore={handleLoadMore} />\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Discover\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getPost } from '../../redux/actions/postAction'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport PostCard from '../../components/PostCard'\r\n\r\n\r\nconst Post = () => {\r\n    const { id } = useParams()\r\n    const [post, setPost] = useState([])\r\n\r\n    const { auth, detailPost } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getPost({detailPost, id, auth}))\r\n\r\n        if(detailPost.length > 0){\r\n            const newArr = detailPost.filter(post => post._id === id)\r\n            setPost(newArr)\r\n        }\r\n    },[detailPost, dispatch, id, auth])\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                post.length === 0 &&\r\n                <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n            }\r\n\r\n            {\r\n                post.map(item => (\r\n                    <PostCard key={item._id} post={item} />\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { checkImage } from '../../utils/imageUpload'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { updateProfileUser } from '../../redux/actions/profileAction'\r\n\r\nconst EditProfile = ({setOnEdit}) => {\r\n    const initState = {\r\n        fullname: '', mobile: '', address: '', website: '', story: '', gender: ''\r\n    }\r\n    const [userData, setUserData] = useState(initState)\r\n    const { fullname, mobile, address, website, story, gender } = userData\r\n\r\n    const [avatar, setAvatar] = useState('')\r\n\r\n    const { auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        setUserData(auth.user)\r\n    }, [auth.user])\r\n\r\n\r\n    const changeAvatar = (e) => {\r\n        const file = e.target.files[0]\r\n\r\n        const err = checkImage(file)\r\n        if(err) return dispatch({\r\n            type: GLOBALTYPES.ALERT, payload: {error: err}\r\n        })\r\n\r\n        setAvatar(file)\r\n    }\r\n\r\n    const handleInput = e => {\r\n        const { name, value } = e.target\r\n        setUserData({ ...userData, [name]:value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        dispatch(updateProfileUser({userData, avatar, auth}))\r\n    }\r\n\r\n    return (\r\n        <div className=\"edit_profile\">\r\n            <button className=\"btn btn-danger btn_close\"\r\n            onClick={() => setOnEdit(false)}>\r\n                Close\r\n            </button>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"info_avatar\">\r\n                    <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \r\n                    alt=\"avatar\" style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                    <span>\r\n                        <i className=\"fas fa-camera\" />\r\n                        <p>Change</p>\r\n                        <input type=\"file\" name=\"file\" id=\"file_up\"\r\n                        accept=\"image/*\" onChange={changeAvatar} />\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"fullname\">Full Name</label>\r\n                    <div className=\"position-relative\">\r\n                        <input type=\"text\" className=\"form-control\" id=\"fullname\"\r\n                        name=\"fullname\" value={fullname} onChange={handleInput} />\r\n                        <small className=\"text-danger position-absolute\"\r\n                        style={{top: '50%', right: '5px', transform: 'translateY(-50%)'}}>\r\n                            {fullname.length}/25\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"mobile\">Mobile</label>\r\n                    <input type=\"text\" name=\"mobile\" value={mobile}\r\n                    className=\"form-control\" onChange={handleInput} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"address\">Address</label>\r\n                    <input type=\"text\" name=\"address\" value={address}\r\n                    className=\"form-control\" onChange={handleInput} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"website\">Website</label>\r\n                    <input type=\"text\" name=\"website\" value={website}\r\n                    className=\"form-control\" onChange={handleInput} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"story\">Story</label>\r\n                    <textarea name=\"story\" value={story} cols=\"30\" rows=\"4\"\r\n                    className=\"form-control\" onChange={handleInput} />\r\n\r\n                    <small className=\"text-danger d-block text-right\">\r\n                        {story.length}/200\r\n                    </small>\r\n                </div>\r\n\r\n                <label htmlFor=\"gender\">Gender</label>\r\n                <div className=\"input-group-prepend px-0 mb-4\">\r\n                    <select name=\"gender\" id=\"gender\" value={gender}\r\n                    className=\"custom-select text-capitalize\"\r\n                    onChange={handleInput}>\r\n                        <option value=\"male\">Male</option>\r\n                        <option value=\"female\">Female</option>\r\n                        <option value=\"other\">Other</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <button className=\"btn btn-info w-100\" type=\"submit\">Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile\r\n","import React from 'react'\r\nimport UserCard from '../UserCard'\r\nimport FollowBtn from '../FollowBtn'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Followers = ({users, setShowFollowers}) => {\r\n    const { auth } = useSelector(state => state)\r\n    return (\r\n        <div className=\"follow\">\r\n            <div className=\"follow_box\">\r\n                <h5 className=\"text-center\">Followers</h5>\r\n                <hr/>\r\n                \r\n                <div className=\"follow_content\">\r\n                    {\r\n                        users.map(user => (\r\n                            <UserCard key={user._id} user={user} setShowFollowers={setShowFollowers} >\r\n                                {\r\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\r\n                                }\r\n                            </UserCard>\r\n                        ))\r\n                    }\r\n                </div>\r\n                \r\n\r\n                <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n                    &times;\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Followers\r\n","import React from 'react'\r\nimport UserCard from '../UserCard'\r\nimport FollowBtn from '../FollowBtn'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Following = ({users, setShowFollowing}) => {\r\n    const { auth } = useSelector(state => state)\r\n    return (\r\n        <div className=\"follow\">\r\n            <div className=\"follow_box\">\r\n                <h5 className=\"text-center\">Following</h5>\r\n                <hr/>\r\n\r\n                <div className=\"follow_content\">\r\n                    {\r\n                        users.map(user => (\r\n                            <UserCard key={user._id} user={user} setShowFollowing={setShowFollowing} >\r\n                                {\r\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\r\n                                }\r\n                            </UserCard>\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n                    &times;\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Following\r\n","import React, { useState, useEffect } from 'react'\r\nimport Avatar from '../Avatar'\r\nimport EditProfile from './EditProfile'\r\nimport FollowBtn from '../FollowBtn'\r\nimport Followers from './Followers'\r\nimport Following from './Following'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Info = ({id, auth, profile, dispatch}) => {\r\n    const [userData, setUserData] = useState([])\r\n    const [onEdit, setOnEdit] = useState(false)\r\n\r\n    const [showFollowers, setShowFollowers] = useState(false)\r\n    const [showFollowing, setShowFollowing] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(id === auth.user._id){\r\n            setUserData([auth.user])\r\n        }else{\r\n            const newData = profile.users.filter(user => user._id === id)\r\n            setUserData(newData)\r\n        }\r\n    }, [id, auth, dispatch, profile.users])\r\n\r\n\r\n    useEffect(() => {\r\n        if(showFollowers || showFollowing || onEdit){\r\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\r\n        }else{\r\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\r\n        }\r\n    },[showFollowers, showFollowing, onEdit, dispatch])\r\n    \r\n\r\n    return (\r\n        <div className=\"info\">\r\n            {\r\n                userData.map(user => (\r\n                    <div className=\"info_container\" key={user._id}>\r\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n\r\n                        <div className=\"info_content\">\r\n                            <div className=\"info_content_title\">\r\n                                <h2>{user.username}</h2>\r\n                                {\r\n                                    user._id === auth.user._id\r\n                                    ?  <button className=\"btn btn-outline-info\"\r\n                                    onClick={() => setOnEdit(true)}>\r\n                                        Edit Profile\r\n                                    </button>\r\n                                    \r\n                                    : <FollowBtn user={user} />\r\n                                }\r\n                               \r\n                                \r\n                            </div>\r\n\r\n                            <div className=\"follow_btn\">\r\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                                    {user.followers.length} Followers\r\n                                </span>\r\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                                    {user.following.length} Following\r\n                                </span>\r\n                            </div>\r\n\r\n                            <h6>{user.fullname} <span className=\"text-danger\">{user.mobile}</span></h6>\r\n                            <p className=\"m-0\">{user.address}</p>\r\n                            <h6 className=\"m-0\">{user.email}</h6>\r\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\r\n                                {user.website}\r\n                            </a>\r\n                            <p>{user.story}</p>\r\n                        </div>\r\n\r\n                        {\r\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\r\n                        }\r\n\r\n                        {\r\n                            showFollowers &&\r\n                            <Followers \r\n                            users={user.followers} \r\n                            setShowFollowers={setShowFollowers} \r\n                            />\r\n                        }\r\n                        {\r\n                            showFollowing &&\r\n                            <Following \r\n                            users={user.following} \r\n                            setShowFollowing={setShowFollowing} \r\n                            />\r\n                        }\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info\r\n","import React, { useState, useEffect } from 'react'\r\nimport PostThumb from '../PostThumb'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\r\n\r\nconst Posts = ({auth, id, dispatch, profile}) => {\r\n    const [posts, setPosts] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(0)\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        profile.posts.forEach(data => {\r\n            if(data._id === id){\r\n                setPosts(data.posts)\r\n                setResult(data.result)\r\n                setPage(data.page)\r\n            }\r\n        })\r\n    },[profile.posts, id])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, page: page + 1, _id: id}\r\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostThumb posts={posts} result={result} />\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={result} page={page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import React, { useState, useEffect } from 'react'\r\nimport PostThumb from '../PostThumb'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Saved = ({auth, dispatch}) => {\r\n    const [savePosts, setSavePosts] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(2)\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setLoad(true)\r\n        getDataAPI('getSavePosts', auth.token)\r\n        .then(res => {\r\n            setSavePosts(res.data.savePosts)\r\n            setResult(res.data.result)\r\n            setLoad(false)\r\n        })\r\n        .catch(err => {\r\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n        })\r\n\r\n        return () => setSavePosts([])\r\n    },[auth.token, dispatch])\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\r\n        setSavePosts(res.data.savePosts)\r\n        setResult(res.data.result)\r\n        setPage(page + 1)\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PostThumb posts={savePosts} result={result} />\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={result} page={page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Saved\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport Info from '../../components/profile/Info'\r\nimport Posts from '../../components/profile/Posts'\r\nimport Saved from '../../components/profile/Saved'\r\n\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport { getProfileUsers } from '../../redux/actions/profileAction'\r\nimport { useParams } from 'react-router-dom'\r\n\r\n\r\nconst Profile = () => {\r\n    const { profile, auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const { id } = useParams()\r\n    const [saveTab, setSaveTab] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(profile.ids.every(item => item !== id)){\r\n            dispatch(getProfileUsers({id, auth}))\r\n        }\r\n    },[id, auth, dispatch, profile.ids])\r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            \r\n            <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n            {\r\n                auth.user._id === id &&\r\n                <div className=\"profile_tab\">\r\n                    <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>Posts</button>\r\n                    <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>Saved</button>\r\n                </div>\r\n            }\r\n\r\n            {\r\n                profile.loading \r\n                ? <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\r\n                : <>\r\n                    {\r\n                        saveTab\r\n                        ? <Saved auth={auth} dispatch={dispatch} />\r\n                        : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n                    }\r\n                </>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\n\r\nconst Times = ({total}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                {\r\n                    (parseInt(total/3600)).toString().length < 2\r\n                    ? '0' + (parseInt(total/3600))\r\n                    : (parseInt(total/3600))\r\n                }\r\n            </span>\r\n            <span>:</span>\r\n\r\n            <span>\r\n                {\r\n                    (parseInt(total/60)).toString().length < 2\r\n                    ? '0' + (parseInt(total/60))\r\n                    : (parseInt(total/60))\r\n                }\r\n            </span>\r\n            <span>:</span>\r\n\r\n            <span>\r\n                {\r\n                    (total%60).toString().length < 2\r\n                    ? '0' + (total%60) + 's'\r\n                    : (total%60) + 's'\r\n                }\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Times\r\n","import React from 'react'\r\nimport Avatar from '../Avatar'\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { deleteMessages } from '../../redux/actions/messageAction'\r\nimport Times from './Times'\r\n\r\nconst MsgDisplay = ({user, msg, theme, data}) => {\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleDeleteMessages = () => {\r\n        if(!data) return;\r\n        \r\n        if(window.confirm('Do you want to delete?')){\r\n            dispatch(deleteMessages({msg, data, auth}))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"chat_title\">\r\n                <Avatar src={user.avatar} size=\"small-avatar\" />\r\n                <span>{user.username}</span>\r\n            </div>\r\n\r\n            <div className=\"you_content\">\r\n                { \r\n                    user._id === auth.user._id && \r\n                    <i className=\"fas fa-trash text-danger\"\r\n                    onClick={handleDeleteMessages} />\r\n                }\r\n\r\n                <div>\r\n                    {\r\n                        msg.text && \r\n                        <div className=\"chat_text\"\r\n                        style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\r\n                            {msg.text}\r\n                        </div>\r\n                    }\r\n                    {\r\n                        msg.media.map((item, index) => (\r\n                            <div key={index}>\r\n                                {\r\n                                    item.url.match(/video/i)\r\n                                    ? videoShow(item.url, theme)\r\n                                    : imageShow(item.url, theme)\r\n                                }\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            \r\n                {\r\n                    msg.call &&\r\n                    <button className=\"btn d-flex align-items-center py-3\"\r\n                    style={{background: '#eee', borderRadius: '10px'}}>\r\n\r\n                        <span className=\"material-icons font-weight-bold mr-1\"\r\n                        style={{ \r\n                            fontSize: '2.5rem', color: msg.call.times === 0 ? 'crimson' : 'green',\r\n                            filter: theme ? 'invert(1)' : 'invert(0)'\r\n                        }}>\r\n                            {\r\n                                msg.call.times === 0\r\n                                ? msg.call.video ? 'videocam_off' : 'phone_disabled'\r\n                                : msg.call.video ? 'video_camera_front' : 'call'\r\n                            }\r\n                        </span>\r\n\r\n                        <div className=\"text-left\">\r\n                            <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\r\n                            <small>\r\n                                {\r\n                                    msg.call.times > 0 \r\n                                    ? <Times total={msg.call.times} />\r\n                                    : new Date(msg.createdAt).toLocaleTimeString()\r\n                                }\r\n                            </small>\r\n                        </div>\r\n\r\n                    </button>\r\n                }\r\n            \r\n            </div>\r\n\r\n            <div className=\"chat_time\">\r\n                {new Date(msg.createdAt).toLocaleString()}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MsgDisplay\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport UserCard from '../UserCard'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport MsgDisplay from './MsgDisplay'\r\nimport Icons from '../Icons'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'\r\nimport { imageUpload } from '../../utils/imageUpload'\r\nimport { addMessage, getMessages, loadMoreMessages, deleteConversation } from '../../redux/actions/messageAction'\r\nimport LoadIcon from '../../images/loading.gif'\r\n\r\nconst RightSide = () => {\r\n    const { auth, message, theme, socket, peer } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const { id } = useParams()\r\n    const [user, setUser] = useState([])\r\n    const [text, setText] = useState('')\r\n    const [media, setMedia] = useState([])\r\n    const [loadMedia, setLoadMedia] = useState(false)\r\n\r\n    const refDisplay = useRef()\r\n    const pageEnd = useRef()\r\n\r\n    const [data, setData] = useState([])\r\n    const [result, setResult] = useState(9)\r\n    const [page, setPage] = useState(0)\r\n    const [isLoadMore, setIsLoadMore] = useState(0)\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const newData = message.data.find(item => item._id === id)\r\n        if(newData){\r\n            setData(newData.messages)\r\n            setResult(newData.result)\r\n            setPage(newData.page)\r\n        }\r\n    },[message.data, id])\r\n\r\n    useEffect(() => {\r\n        if(id && message.users.length > 0){\r\n            setTimeout(() => {\r\n                refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\r\n            },50)\r\n\r\n            const newUser = message.users.find(user => user._id === id)\r\n            if(newUser) setUser(newUser)\r\n        }\r\n    }, [message.users, id])\r\n\r\n    const handleChangeMedia = (e) => {\r\n        const files = [...e.target.files]\r\n        let err = \"\"\r\n        let newMedia = []\r\n\r\n        files.forEach(file => {\r\n            if(!file) return err = \"File does not exist.\"\r\n\r\n            if(file.size > 1024 * 1024 * 20){\r\n                return err = \"The image/video largest is 5mb.\"\r\n            }\r\n\r\n            return newMedia.push(file)\r\n        })\r\n\r\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\r\n        setMedia([...media, ...newMedia])\r\n    }\r\n\r\n    const handleDeleteMedia = (index) => {\r\n        const newArr = [...media]\r\n        newArr.splice(index, 1)\r\n        setMedia(newArr)\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if(!text.trim() && media.length === 0) return;\r\n        setText('')\r\n        setMedia([])\r\n        setLoadMedia(true)\r\n\r\n        let newArr = [];\r\n        if(media.length > 0) newArr = await imageUpload(media)\r\n\r\n        const msg = {\r\n            sender: auth.user._id,\r\n            recipient: id,\r\n            text, \r\n            media: newArr,\r\n            createdAt: new Date().toISOString()\r\n        }\r\n\r\n        setLoadMedia(false)\r\n        await dispatch(addMessage({msg, auth, socket}))\r\n        if(refDisplay.current){\r\n            refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getMessagesData = async () => {\r\n            if(message.data.every(item => item._id !== id)){\r\n                await dispatch(getMessages({auth, id}))\r\n                setTimeout(() => {\r\n                    refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\r\n                },50)\r\n            }\r\n        }\r\n        getMessagesData()\r\n    },[id, dispatch, auth, message.data])\r\n\r\n\r\n    // Load More\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if(entries[0].isIntersecting){\r\n                setIsLoadMore(p => p + 1)\r\n            }\r\n        },{\r\n            threshold: 0.1\r\n        })\r\n\r\n        observer.observe(pageEnd.current)\r\n    },[setIsLoadMore])\r\n\r\n    useEffect(() => {\r\n        if(isLoadMore > 1){\r\n            if(result >= page * 9){\r\n                dispatch(loadMoreMessages({auth, id, page: page + 1}))\r\n                setIsLoadMore(1)\r\n            }\r\n        }\r\n        // eslint-disable-next-line\r\n    },[isLoadMore])\r\n\r\n    const handleDeleteConversation = () => {\r\n        if(window.confirm('Do you want to delete?')){\r\n            dispatch(deleteConversation({auth, id}))\r\n            return history.push('/message')\r\n        }\r\n    }\r\n\r\n    // Call\r\n    const caller = ({video}) => {\r\n        const { _id, avatar, username, fullname } = user\r\n\r\n        const msg = {\r\n            sender: auth.user._id,\r\n            recipient: _id, \r\n            avatar, username, fullname, video\r\n        }\r\n        dispatch({ type: GLOBALTYPES.CALL, payload: msg })\r\n    }\r\n\r\n    const callUser = ({video}) => {\r\n        const { _id, avatar, username, fullname } = auth.user\r\n\r\n        const msg = {\r\n            sender: _id,\r\n            recipient: user._id, \r\n            avatar, username, fullname, video\r\n        }\r\n\r\n        if(peer.open) msg.peerId = peer._id\r\n\r\n        socket.emit('callUser', msg)\r\n    }\r\n\r\n    const handleAudioCall = () => {\r\n        caller({video: false})\r\n        callUser({video: false})\r\n    }\r\n    \r\n    const handleVideoCall = () => {\r\n        caller({video: true})\r\n        callUser({video: true})\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"message_header\" style={{cursor: 'pointer'}} >\r\n                {\r\n                    user.length !== 0 &&\r\n                    <UserCard user={user}>\r\n                        <div>\r\n                            <i className=\"fas fa-phone-alt\"\r\n                            onClick={handleAudioCall} />\r\n\r\n                            <i className=\"fas fa-video mx-3\"\r\n                            onClick={handleVideoCall} />\r\n\r\n                            <i className=\"fas fa-trash text-danger\"\r\n                            onClick={handleDeleteConversation} />\r\n                        </div>\r\n                    </UserCard>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"chat_container\" \r\n            style={{height: media.length > 0 ? 'calc(100% - 180px)' : ''}} >\r\n                <div className=\"chat_display\" ref={refDisplay}>\r\n                    <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>\r\n                        Load more\r\n                    </button>\r\n\r\n                    {\r\n                        data.map((msg, index) => (\r\n                                <div key={index}>\r\n                                    {\r\n                                        msg.sender !== auth.user._id &&\r\n                                        <div className=\"chat_row other_message\">\r\n                                            <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {\r\n                                        msg.sender === auth.user._id &&\r\n                                        <div className=\"chat_row you_message\">\r\n                                            <MsgDisplay user={auth.user} msg={msg} theme={theme} data={data} />\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                        ))\r\n                    }\r\n                    \r\n\r\n                   {\r\n                       loadMedia && \r\n                       <div className=\"chat_row you_message\">\r\n                           <img src={LoadIcon} alt=\"loading\"/>\r\n                       </div>\r\n                   }\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"show_media\" style={{display: media.length > 0 ? 'grid' : 'none'}} >\r\n                {\r\n                    media.map((item, index) => (\r\n                        <div key={index} id=\"file_media\">\r\n                            {\r\n                                item.type.match(/video/i)\r\n                                ? videoShow(URL.createObjectURL(item), theme)\r\n                                : imageShow(URL.createObjectURL(item), theme)\r\n                            }\r\n                            <span onClick={() => handleDeleteMedia(index)} >&times;</span>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n\r\n            <form className=\"chat_input\" onSubmit={handleSubmit} >\r\n                <input type=\"text\" placeholder=\"Enter you message...\"\r\n                value={text} onChange={e => setText(e.target.value)}\r\n                style={{\r\n                    filter: theme ? 'invert(1)' : 'invert(0)',\r\n                    background: theme ? '#040404' : '',\r\n                    color: theme ? 'white' : ''\r\n                }} />\r\n\r\n                <Icons setContent={setText} content={text} theme={theme} />\r\n\r\n                <div className=\"file_upload\">\r\n                    <i className=\"fas fa-image text-danger\" />\r\n                    <input type=\"file\" name=\"file\" id=\"file\"\r\n                    multiple accept=\"image/*,video/*\" onChange={handleChangeMedia} />\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"material-icons\" \r\n                disabled={(text || media.length > 0) ? false : true}>\r\n                    near_me\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RightSide\r\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\nimport RightSide from '../../components/message/RightSide'\r\n\r\nconst Conversation = () => {\r\n    return (\r\n        <div className=\"message d-flex\">\r\n            <div className=\"col-md-4 border-right px-0 left_mess\">\r\n                <LeftSide />\r\n            </div>\r\n\r\n            <div className=\"col-md-8 px-0\">\r\n                <RightSide />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Conversation\r\n","import axios from 'axios'\r\n\r\nexport const getDataAPI = async (url, token) => {\r\n    const res = await axios.get(`/api/${url}`, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n    const res = await axios.post(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n    const res = await axios.put(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n    const res = await axios.patch(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n    const res = await axios.delete(`/api/${url}`, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}","var map = {\n\t\"./discover\": 124,\n\t\"./discover.js\": 124,\n\t\"./home\": 92,\n\t\"./home.js\": 92,\n\t\"./login\": 90,\n\t\"./login.js\": 90,\n\t\"./message\": 86,\n\t\"./message/\": 86,\n\t\"./message/[id]\": 155,\n\t\"./message/[id].js\": 155,\n\t\"./message/index\": 86,\n\t\"./message/index.js\": 86,\n\t\"./post/[id]\": 133,\n\t\"./post/[id].js\": 133,\n\t\"./profile/[id]\": 154,\n\t\"./profile/[id].js\": 154,\n\t\"./register\": 91,\n\t\"./register.js\": 91\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 184;","import { GLOBALTYPES } from './globalTypes'\r\nimport { imageUpload } from '../../utils/imageUpload'\r\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\r\nimport { createNotify, removeNotify } from './notifyAction'\r\n\r\nexport const POST_TYPES = {\r\n    CREATE_POST: 'CREATE_POST',\r\n    LOADING_POST: 'LOADING_POST',\r\n    GET_POSTS: 'GET_POSTS',\r\n    UPDATE_POST: 'UPDATE_POST',\r\n    GET_POST: 'GET_POST',\r\n    DELETE_POST: 'DELETE_POST'\r\n}\r\n\r\n\r\nexport const createPost = ({content, images, auth, socket}) => async (dispatch) => {\r\n    let media = []\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        if(images.length > 0) media = await imageUpload(images)\r\n\r\n        const res = await postDataAPI('posts', { content, images: media }, auth.token)\r\n\r\n        dispatch({ \r\n            type: POST_TYPES.CREATE_POST, \r\n            payload: {...res.data.newPost, user: auth.user} \r\n        })\r\n\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} })\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: res.data.newPost._id,\r\n            text: 'added a new post.',\r\n            recipients: res.data.newPost.user.followers,\r\n            url: `/post/${res.data.newPost._id}`,\r\n            content, \r\n            image: media[0].url\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const getPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true })\r\n        const res = await getDataAPI('posts', token)\r\n        \r\n        dispatch({\r\n            type: POST_TYPES.GET_POSTS,\r\n            payload: {...res.data, page: 2}\r\n        })\r\n\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const updatePost = ({content, images, auth, status}) => async (dispatch) => {\r\n    let media = []\r\n    const imgNewUrl = images.filter(img => !img.url)\r\n    const imgOldUrl = images.filter(img => img.url)\r\n\r\n    if(status.content === content \r\n        && imgNewUrl.length === 0\r\n        && imgOldUrl.length === status.images.length\r\n    ) return;\r\n\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        if(imgNewUrl.length > 0) media = await imageUpload(imgNewUrl)\r\n\r\n        const res = await patchDataAPI(`post/${status._id}`, { \r\n            content, images: [...imgOldUrl, ...media] \r\n        }, auth.token)\r\n\r\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost })\r\n\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {success: res.data.msg} })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const likePost = ({post, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, likes: [...post.likes, auth.user]}\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n\r\n    socket.emit('likePost', newPost)\r\n\r\n    try {\r\n        await patchDataAPI(`post/${post._id}/like`, null, auth.token)\r\n        \r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'like your post.',\r\n            recipients: [post.user._id],\r\n            url: `/post/${post._id}`,\r\n            content: post.content, \r\n            image: post.images[0].url\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const unLikePost = ({post, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, likes: post.likes.filter(like => like._id !== auth.user._id)}\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n\r\n    socket.emit('unLikePost', newPost)\r\n\r\n    try {\r\n        await patchDataAPI(`post/${post._id}/unlike`, null, auth.token)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'like your post.',\r\n            recipients: [post.user._id],\r\n            url: `/post/${post._id}`,\r\n        }\r\n        dispatch(removeNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const getPost = ({detailPost, id, auth}) => async (dispatch) => {\r\n    if(detailPost.every(post => post._id !== id)){\r\n        try {\r\n            const res = await getDataAPI(`post/${id}`, auth.token)\r\n            dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post })\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT,\r\n                payload: {error: err.response.data.msg}\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const deletePost = ({post, auth, socket}) => async (dispatch) => {\r\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post })\r\n\r\n    try {\r\n        const res = await deleteDataAPI(`post/${post._id}`, auth.token)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: post._id,\r\n            text: 'added a new post.',\r\n            recipients: res.data.newPost.user.followers,\r\n            url: `/post/${post._id}`,\r\n        }\r\n        dispatch(removeNotify({msg, auth, socket}))\r\n        \r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const savePost = ({post, auth}) => async (dispatch) => {\r\n    const newUser = {...auth.user, saved: [...auth.user.saved, post._id]}\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n\r\n    try {\r\n        await patchDataAPI(`savePost/${post._id}`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const unSavePost = ({post, auth}) => async (dispatch) => {\r\n    const newUser = {...auth.user, saved: auth.user.saved.filter(id => id !== post._id) }\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n\r\n    try {\r\n        await patchDataAPI(`unSavePost/${post._id}`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}","import { GLOBALTYPES } from './globalTypes'\r\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData'\r\n\r\nexport const NOTIFY_TYPES = {\r\n    GET_NOTIFIES: 'GET_NOTIFIES',\r\n    CREATE_NOTIFY: 'CREATE_NOTIFY',\r\n    REMOVE_NOTIFY: 'REMOVE_NOTIFY',\r\n    UPDATE_NOTIFY: 'UPDATE_NOTIFY',\r\n    UPDATE_SOUND: 'UPDATE_SOUND',\r\n    DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES'\r\n}\r\n\r\nexport const createNotify = ({msg, auth, socket}) => async (dispatch) => {\r\n    try {\r\n        const res = await postDataAPI('notify', msg, auth.token)\r\n\r\n        socket.emit('createNotify', {\r\n            ...res.data.notify,\r\n            user: {\r\n                username: auth.user.username,\r\n                avatar: auth.user.avatar\r\n            }\r\n        })\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const removeNotify = ({msg, auth, socket}) => async (dispatch) => {\r\n    try {\r\n        await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token)\r\n        \r\n        socket.emit('removeNotify', msg)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI('notifies', token)\r\n        \r\n        dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies })\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\n\r\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\r\n    dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true}})\r\n    try {\r\n        await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n    dispatch({type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: []})\r\n    try {\r\n        await deleteDataAPI('deleteAllNotify', token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 227;","import { GLOBALTYPES, DeleteData } from '../actions/globalTypes'\r\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData'\r\n\r\nexport const MESS_TYPES = {\r\n    ADD_USER: 'ADD_USER',\r\n    ADD_MESSAGE: 'ADD_MESSAGE',\r\n    GET_CONVERSATIONS: 'GET_CONVERSATIONS',\r\n    GET_MESSAGES: 'GET_MESSAGES',\r\n    UPDATE_MESSAGES: 'UPDATE_MESSAGES',\r\n    DELETE_MESSAGES: 'DELETE_MESSAGES',\r\n    DELETE_CONVERSATION: 'DELETE_CONVERSATION',\r\n    CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE'\r\n}\r\n\r\n\r\n\r\nexport const addMessage = ({msg, auth, socket}) => async (dispatch) =>{\r\n    dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\r\n\r\n    const { _id, avatar, fullname, username } = auth.user\r\n    socket.emit('addMessage', {...msg, user: { _id, avatar, fullname, username } })\r\n    \r\n    try {\r\n        await postDataAPI('message', msg, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getConversations = ({auth, page = 1}) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token)\r\n        \r\n        let newArr = [];\r\n        res.data.conversations.forEach(item => {\r\n            item.recipients.forEach(cv => {\r\n                if(cv._id !== auth.user._id){\r\n                    newArr.push({...cv, text: item.text, media: item.media, call: item.call})\r\n                }\r\n            })\r\n        })\r\n\r\n        dispatch({\r\n            type: MESS_TYPES.GET_CONVERSATIONS, \r\n            payload: {newArr, result: res.data.result}\r\n        })\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getMessages = ({auth, id, page = 1}) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, messages: res.data.messages.reverse()}\r\n\r\n        dispatch({type: MESS_TYPES.GET_MESSAGES, payload: {...newData, _id: id, page}})\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const loadMoreMessages = ({auth, id, page = 1}) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\r\n        const newData = {...res.data, messages: res.data.messages.reverse()}\r\n\r\n        dispatch({type: MESS_TYPES.UPDATE_MESSAGES, payload: {...newData, _id: id, page}})\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteMessages = ({msg, data, auth}) => async (dispatch) => {\r\n    const newData = DeleteData(data, msg._id)\r\n    dispatch({type: MESS_TYPES.DELETE_MESSAGES, payload: {newData, _id: msg.recipient}})\r\n    try {\r\n        await deleteDataAPI(`message/${msg._id}`, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteConversation = ({auth, id}) => async (dispatch) => {\r\n    dispatch({type: MESS_TYPES.DELETE_CONVERSATION, payload: id})\r\n    try {\r\n        await deleteDataAPI(`conversation/${id}`, auth.token)\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"position-relative\" style={{minHeight: 'calc(100vh - 70px)'}}>\r\n            <h2 className=\"position-absolute text-secondary\"\r\n            style={{top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\r\n                404 | Not Found.\r\n            </h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport NotFound from '../components/NotFound'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst generatePage = (pageName) => {\r\n    const component = () => require(`../pages/${pageName}`).default\r\n\r\n    try {\r\n        return React.createElement(component())\r\n    } catch (err) {\r\n        return <NotFound />\r\n    }\r\n}\r\n\r\nconst PageRender = () => {\r\n    const {page, id} = useParams()\r\n    const { auth } = useSelector(state => state)\r\n\r\n    let pageName = \"\";\r\n\r\n    if(auth.token){\r\n        if(id){\r\n            pageName = `${page}/[id]`\r\n        }else{\r\n            pageName = `${page}`\r\n        }\r\n    }\r\n\r\n    return generatePage(pageName)\r\n}\r\n\r\nexport default PageRender\r\n","import { Route, Redirect} from 'react-router-dom'\r\n\r\nconst PrivateRouter = (props) => {\r\n    const firstLogin = localStorage.getItem('firstLogin')\r\n    return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />\r\n}\r\n\r\nexport default PrivateRouter\r\n","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\r\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\r\n\r\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\r\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\r\n                points=\"20,1 40,40 1,40\" />\r\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\r\n            </svg>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\n\r\nconst Toast = ({msg, handleShow, bgColor}) => {\r\n    return (\r\n        <div className={`toast show position-fixed text-light ${bgColor}`}\r\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\r\n            <div className={`toast-header text-light ${bgColor}`}>\r\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n                <button className=\"ml-2 mb-1 close text-light\"\r\n                data-dismiss=\"toast\" style={{outline: 'none'}}\r\n                onClick={handleShow}>\r\n                    &times;\r\n                </button>\r\n            </div>\r\n            <div className=\"toast-body\">\r\n                {msg.body}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Toast\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nimport Loading from './Loading'\r\nimport Toast from './Toast'\r\n\r\nconst Notify = () => {\r\n    const { alert } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div>\r\n            {alert.loading && <Loading />}\r\n\r\n            {\r\n                alert.error && \r\n                <Toast msg={{title: 'Error', body: alert.error}}\r\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})} \r\n                bgColor=\"bg-danger\" />\r\n            }\r\n\r\n            {\r\n                alert.success && \r\n                <Toast msg={{title: 'Success', body: alert.success}} \r\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})}\r\n                bgColor=\"bg-success\" />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notify\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport NoNotice from '../images/notice.png'\r\nimport { Link } from 'react-router-dom'\r\nimport Avatar from './Avatar'\r\nimport moment from 'moment'\r\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction'\r\n\r\nconst NotifyModal = () => {\r\n    const { auth, notify } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleIsRead = (msg) => {\r\n        dispatch(isReadNotify({msg, auth}))\r\n    }\r\n\r\n    const handleSound = () => {\r\n        dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound})\r\n    }\r\n\r\n    const handleDeleteAll = () => {\r\n        const newArr = notify.data.filter(item => item.isRead === false)\r\n        if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\r\n\r\n        if(window.confirm(`You have ${newArr.length} unread notices. Are you sure you want to delete all?`)){\r\n            return dispatch(deleteAllNotifies(auth.token))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{minWidth: '300px'}}>\r\n            <div className=\"d-flex justify-content-between align-items-center px-3\">\r\n                <h3>Notification</h3>\r\n                {\r\n                    notify.sound \r\n                    ? <i className=\"fas fa-bell text-danger\" \r\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\r\n                    onClick={handleSound} />\r\n\r\n                    : <i className=\"fas fa-bell-slash text-danger\"\r\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\r\n                    onClick={handleSound} />\r\n                }\r\n            </div>\r\n            <hr className=\"mt-0\" />\r\n\r\n            {\r\n                notify.data.length === 0 &&\r\n                <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\r\n            }\r\n\r\n            <div style={{maxHeight: 'calc(100vh - 200px)', overflow: 'auto'}}>\r\n                {\r\n                    notify.data.map((msg, index) => (\r\n                        <div key={index} className=\"px-2 mb-3\" >\r\n                            <Link to={`${msg.url}`} className=\"d-flex text-dark align-items-center\"\r\n                            onClick={() => handleIsRead(msg)}>\r\n                                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n                                <div className=\"mx-1 flex-fill\">\r\n                                    <div>\r\n                                        <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                                        <span>{msg.text}</span>\r\n                                    </div>\r\n                                    {msg.content && <small>{msg.content.slice(0,20)}...</small>}\r\n                                </div>\r\n\r\n                                {\r\n                                    msg.image &&\r\n                                    <div style={{width: '30px'}}>\r\n                                        {\r\n                                            msg.image.match(/video/i)\r\n                                            ? <video src={msg.image} width=\"100%\" />\r\n                                            : <Avatar src={msg.image} size=\"medium-avatar\" />\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                                \r\n                            </Link>\r\n                            <small className=\"text-muted d-flex justify-content-between px-2\">\r\n                                {moment(msg.createdAt).fromNow()}\r\n                                {\r\n                                    !msg.isRead && <i className=\"fas fa-circle text-primary\" />\r\n                                }\r\n                            </small>\r\n                        </div>\r\n                    ))\r\n                }\r\n\r\n            </div>\r\n\r\n            <hr className=\"my-1\" />\r\n            <div className=\"text-right text-danger mr-2\" style={{cursor: 'pointer'}}\r\n            onClick={handleDeleteAll}>\r\n                Delete All\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotifyModal\r\n","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { logout } from '../../redux/actions/authAction'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport Avatar from '../Avatar'\r\nimport NotifyModal from '../NotifyModal'\r\n\r\nconst Menu = () => {\r\n    const navLinks = [\r\n        { label: 'Home', icon: 'home', path: '/'},\r\n        { label: 'Message', icon: 'near_me', path: '/message'},\r\n        { label: 'Discover', icon: 'explore', path: '/discover'}\r\n    ]\r\n\r\n    const { auth, theme, notify } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const { pathname } = useLocation()\r\n\r\n    const isActive = (pn) => {\r\n        if(pn === pathname) return 'active'\r\n    }\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            <ul className=\"navbar-nav flex-row\">\r\n                {\r\n                    navLinks.map((link, index) => (\r\n                        <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\r\n                            <Link className=\"nav-link\" to={link.path}>\r\n                                <span className=\"material-icons\">{link.icon}</span>\r\n                            </Link>\r\n                        </li>\r\n                    ))\r\n                }\r\n\r\n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\r\n                    <span className=\"nav-link position-relative\" id=\"navbarDropdown\" \r\n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\r\n                        <span className=\"material-icons\" \r\n                        style={{color: notify.data.length > 0 ? 'crimson' : ''}}>\r\n                            favorite\r\n                        </span>\r\n\r\n                        <span className=\"notify_length\">{notify.data.length}</span>\r\n\r\n                    </span>\r\n\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\r\n                    style={{transform: 'translateX(75px)'}}>\r\n                        <NotifyModal />\r\n                    </div>\r\n                        \r\n                </li>\r\n           \r\n            \r\n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\r\n                    <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" \r\n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\r\n                    </span>\r\n\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                    <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>Profile</Link>\r\n\r\n                    <label htmlFor=\"theme\" className=\"dropdown-item\"\r\n                    onClick={() => dispatch({\r\n                        type: GLOBALTYPES.THEME, payload: !theme\r\n                    })}>\r\n\r\n                        {theme ? 'Light mode' : 'Dark mode'}\r\n                    </label>\r\n\r\n                    <div className=\"dropdown-divider\"></div>\r\n                    <Link className=\"dropdown-item\" to=\"/\"\r\n                    onClick={() => dispatch(logout())}>\r\n                        Logout\r\n                    </Link>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Menu\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport UserCard from '../UserCard'\r\nimport LoadIcon from '../../images/loading.gif'\r\n\r\nconst Search = () => {\r\n    const [search, setSearch] = useState('')\r\n    const [users, setUsers] = useState([])\r\n\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const [load, setLoad] = useState(false)\r\n\r\n\r\n    const handleSearch = async (e) => {\r\n        e.preventDefault()\r\n        if(!search) return;\r\n\r\n        try {\r\n            setLoad(true)\r\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\r\n            setUsers(res.data.users)\r\n            setLoad(false)\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setSearch('')\r\n        setUsers([])\r\n    }\r\n\r\n    return (\r\n        <form className=\"search_form\" onSubmit={handleSearch}>\r\n            <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\r\n            onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\r\n\r\n            <div className=\"search_icon\" style={{opacity: search ? 0 : 0.3}}>\r\n                <span className=\"material-icons\">search</span>\r\n                <span>Enter to Search</span>\r\n            </div>\r\n\r\n            <div className=\"close_search\" onClick={handleClose}\r\n            style={{opacity: users.length === 0 ? 0 : 1}} >\r\n                &times;\r\n            </div>\r\n\r\n            <button type=\"submit\" style={{display: 'none'}}>Search</button>\r\n\r\n            { load && <img className=\"loading\" src={LoadIcon} alt=\"loading\"  /> }\r\n\r\n            <div className=\"users\">\r\n                {\r\n                    search && users.map(user => (\r\n                        <UserCard \r\n                        key={user._id} \r\n                        user={user} \r\n                        border=\"border\"\r\n                        handleClose={handleClose} \r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Menu from './Menu'\r\nimport Search from './Search'\r\n\r\nconst Header = () => {\r\n\r\n    return (\r\n        <div className=\"header bg-light\">\r\n            <nav className=\"navbar navbar-expand-lg navbar-light \r\n            bg-light justify-content-between align-middle\">\r\n\r\n                <Link to=\"/\" className=\"logo\">\r\n                    <h1 className=\"navbar-brand text-uppercase p-0 m-0\"\r\n                    onClick={() => window.scrollTo({top: 0})}>\r\n                        V-Network\r\n                    </h1>\r\n                </Link>\r\n\r\n                <Search />\r\n\r\n                <Menu />\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { GLOBALTYPES } from '../redux/actions/globalTypes'\r\nimport { createPost, updatePost } from '../redux/actions/postAction'\r\nimport Icons from './Icons'\r\nimport { imageShow, videoShow } from '../utils/mediaShow'\r\n\r\nconst StatusModal = () => {\r\n    const { auth, theme, status, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [content, setContent] = useState('')\r\n    const [images, setImages] = useState([])\r\n\r\n    const [stream, setStream] = useState(false)\r\n    const videoRef = useRef()\r\n    const refCanvas = useRef()\r\n    const [tracks, setTracks] = useState('')\r\n\r\n    const handleChangeImages = e => {\r\n        const files = [...e.target.files]\r\n        let err = \"\"\r\n        let newImages = []\r\n\r\n        files.forEach(file => {\r\n            if(!file) return err = \"File does not exist.\"\r\n\r\n            if(file.size > 1024 * 1024 * 20){\r\n                return err = \"The image/video largest is 5mb.\"\r\n            }\r\n\r\n            return newImages.push(file)\r\n        })\r\n\r\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\r\n        setImages([...images, ...newImages])\r\n    }\r\n\r\n    const deleteImages = (index) => {\r\n        const newArr = [...images]\r\n        newArr.splice(index, 1)\r\n        setImages(newArr)\r\n    }\r\n\r\n    const handleStream = () => {\r\n        setStream(true)\r\n        if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia){\r\n            navigator.mediaDevices.getUserMedia({video: true})\r\n            .then(mediaStream => {\r\n                videoRef.current.srcObject = mediaStream\r\n                videoRef.current.play()\r\n\r\n                const track = mediaStream.getTracks()\r\n                setTracks(track[0])\r\n            }).catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const handleCapture = () => {\r\n        const width = videoRef.current.clientWidth;\r\n        const height = videoRef.current.clientHeight;\r\n\r\n        refCanvas.current.setAttribute(\"width\", width)\r\n        refCanvas.current.setAttribute(\"height\", height)\r\n\r\n        const ctx = refCanvas.current.getContext('2d')\r\n        ctx.drawImage(videoRef.current, 0, 0, width, height)\r\n        let URL = refCanvas.current.toDataURL()\r\n        setImages([...images, {camera: URL}])\r\n    }\r\n\r\n    const handleStopStream = () => {\r\n        tracks.stop()\r\n        setStream(false)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if(images.length === 0)\r\n        return dispatch({ \r\n            type: GLOBALTYPES.ALERT, payload: {error: \"Please add your photo.\"}\r\n        })\r\n\r\n        if(status.onEdit){\r\n            dispatch(updatePost({content, images, auth, status}))\r\n        }else{\r\n            dispatch(createPost({content, images, auth, socket}))\r\n        }\r\n        \r\n\r\n        setContent('')\r\n        setImages([])\r\n        if(tracks) tracks.stop()\r\n        dispatch({ type: GLOBALTYPES.STATUS, payload: false})\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(status.onEdit){\r\n            setContent(status.content)\r\n            setImages(status.images)\r\n        }\r\n    },[status])\r\n\r\n\r\n   \r\n\r\n    return (\r\n        <div className=\"status_modal\">\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"status_header\">\r\n                    <h5 className=\"m-0\">Create Post</h5>\r\n                    <span onClick={() => dispatch({\r\n                        type: GLOBALTYPES.STATUS, payload: false\r\n                    })}>\r\n                        &times;\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"status_body\">\r\n                    <textarea name=\"content\" value={content}\r\n                    placeholder={`${auth.user.username}, what are you thinking?`}\r\n                    onChange={e => setContent(e.target.value)}\r\n                    style={{\r\n                        filter: theme ? 'invert(1)' : 'invert(0)',\r\n                        color: theme ? 'white' : '#111',\r\n                        background: theme ? 'rgba(0,0,0,.03)' : '',\r\n                    }} />\r\n\r\n                    <div className=\"d-flex\">\r\n                        <div className=\"flex-fill\"></div>\r\n                        <Icons setContent={setContent} content={content} theme={theme} />\r\n                    </div>\r\n\r\n                    <div className=\"show_images\">\r\n                        {\r\n                            images.map((img, index) => (\r\n                                <div key={index} id=\"file_img\">\r\n                                    {\r\n                                        img.camera ? imageShow(img.camera, theme)\r\n                                        : img.url\r\n                                            ?<>\r\n                                                {\r\n                                                    img.url.match(/video/i)\r\n                                                    ? videoShow(img.url, theme) \r\n                                                    : imageShow(img.url, theme)\r\n                                                }\r\n                                            </>\r\n                                            :<>\r\n                                                {\r\n                                                    img.type.match(/video/i)\r\n                                                    ? videoShow(URL.createObjectURL(img), theme) \r\n                                                    : imageShow(URL.createObjectURL(img), theme)\r\n                                                }\r\n                                            </>\r\n                                    }\r\n                                    <span onClick={() => deleteImages(index)}>&times;</span>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        stream && \r\n                        <div className=\"stream position-relative\">\r\n                            <video autoPlay muted ref={videoRef} width=\"100%\" height=\"100%\"\r\n                            style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                            \r\n                            <span onClick={handleStopStream}>&times;</span>\r\n                            <canvas ref={refCanvas} style={{display: 'none'}} />\r\n                        </div>\r\n                    }\r\n\r\n                    <div className=\"input_images\">\r\n                        {\r\n                            stream \r\n                            ? <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n                            : <>\r\n                                <i className=\"fas fa-camera\" onClick={handleStream} />\r\n\r\n                                <div className=\"file_upload\">\r\n                                    <i className=\"fas fa-image\" />\r\n                                    <input type=\"file\" name=\"file\" id=\"file\"\r\n                                    multiple accept=\"image/*,video/*\" onChange={handleChangeImages} />\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        \r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"status_footer\">\r\n                    <button className=\"btn btn-secondary w-100\" type=\"submit\">\r\n                        Post\r\n                    </button>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusModal\r\n","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { POST_TYPES } from './redux/actions/postAction'\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\r\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\r\nimport { MESS_TYPES } from './redux/actions/messageAction'\r\n\r\nimport audiobell from './audio/got-it-done-613.mp3'\r\n\r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n    let options = {\r\n        body, icon\r\n    }\r\n    let n = new Notification(title, options)\r\n\r\n    n.onclick = e => {\r\n        e.preventDefault()\r\n        window.open(url, '_blank')\r\n    }\r\n}\r\n\r\nconst SocketClient = () => {\r\n    const { auth, socket, notify, online, call } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const audioRef = useRef()\r\n\r\n    // joinUser\r\n    useEffect(() => {\r\n        socket.emit('joinUser', auth.user)\r\n    },[socket, auth.user])\r\n\r\n    // Likes\r\n    useEffect(() => {\r\n        socket.on('likeToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('likeToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(() => {\r\n        socket.on('unLikeToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('unLikeToClient')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Comments\r\n    useEffect(() => {\r\n        socket.on('createCommentToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('createCommentToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(() => {\r\n        socket.on('deleteCommentToClient', newPost =>{\r\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\r\n        })\r\n\r\n        return () => socket.off('deleteCommentToClient')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Follow\r\n    useEffect(() => {\r\n        socket.on('followToClient', newUser =>{\r\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n        })\r\n\r\n        return () => socket.off('followToClient')\r\n    },[socket, dispatch, auth])\r\n\r\n    useEffect(() => {\r\n        socket.on('unFollowToClient', newUser =>{\r\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\r\n        })\r\n\r\n        return () => socket.off('unFollowToClient')\r\n    },[socket, dispatch, auth])\r\n\r\n\r\n    // Notification\r\n    useEffect(() => {\r\n        socket.on('createNotifyToClient', msg =>{\r\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\r\n\r\n            if(notify.sound) audioRef.current.play()\r\n            spawnNotification(\r\n                msg.user.username + ' ' + msg.text,\r\n                msg.user.avatar,\r\n                msg.url,\r\n                'V-NETWORK'\r\n            )\r\n        })\r\n\r\n        return () => socket.off('createNotifyToClient')\r\n    },[socket, dispatch, notify.sound])\r\n\r\n    useEffect(() => {\r\n        socket.on('removeNotifyToClient', msg =>{\r\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\r\n        })\r\n\r\n        return () => socket.off('removeNotifyToClient')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Message\r\n    useEffect(() => {\r\n        socket.on('addMessageToClient', msg =>{\r\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\r\n\r\n            dispatch({\r\n                type: MESS_TYPES.ADD_USER, \r\n                payload: {\r\n                    ...msg.user, \r\n                    text: msg.text, \r\n                    media: msg.media\r\n                }\r\n            })\r\n        })\r\n\r\n        return () => socket.off('addMessageToClient')\r\n    },[socket, dispatch])\r\n\r\n    // Check User Online / Offline\r\n    useEffect(() => {\r\n        socket.emit('checkUserOnline', auth.user)\r\n    },[socket, auth.user])\r\n\r\n    useEffect(() => {\r\n        socket.on('checkUserOnlineToMe', data =>{\r\n            data.forEach(item => {\r\n                if(!online.includes(item.id)){\r\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\r\n                }\r\n            })\r\n        })\r\n\r\n        return () => socket.off('checkUserOnlineToMe')\r\n    },[socket, dispatch, online])\r\n\r\n    useEffect(() => {\r\n        socket.on('checkUserOnlineToClient', id =>{\r\n            if(!online.includes(id)){\r\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\r\n            }\r\n        })\r\n\r\n        return () => socket.off('checkUserOnlineToClient')\r\n    },[socket, dispatch, online])\r\n\r\n    // Check User Offline\r\n    useEffect(() => {\r\n        socket.on('CheckUserOffline', id =>{\r\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\r\n        })\r\n\r\n        return () => socket.off('CheckUserOffline')\r\n    },[socket, dispatch])\r\n\r\n\r\n    // Call User\r\n    useEffect(() => {\r\n        socket.on('callUserToClient', data =>{\r\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\r\n        })\r\n\r\n        return () => socket.off('callUserToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(() => {\r\n        socket.on('userBusy', data =>{\r\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\r\n        })\r\n\r\n        return () => socket.off('userBusy')\r\n    },[socket, dispatch, call])\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <audio controls ref={audioRef} style={{display: 'none'}} >\r\n                <source src={audiobell} type=\"audio/mp3\" />\r\n            </audio>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SocketClient\r\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Avatar from '../Avatar'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { addMessage } from '../../redux/actions/messageAction'\r\nimport RingRing from '../../audio/ringring.mp3'\r\n\r\nconst CallModal = () => {\r\n    const { call, auth, peer, socket, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [hours, setHours] = useState(0)\r\n    const [mins, setMins] = useState(0)\r\n    const [second, setSecond] = useState(0)\r\n    const [total, setTotal] = useState(0)\r\n\r\n    const [answer, setAnswer] = useState(false)\r\n    const youVideo = useRef()\r\n    const otherVideo = useRef()\r\n    const [tracks, setTracks] = useState(null)\r\n    const [newCall, setNewCall] = useState(null)\r\n\r\n    // Set Time\r\n    useEffect(() => {\r\n        const setTime = () => {\r\n            setTotal(t => t + 1)\r\n            setTimeout(setTime, 1000)\r\n        }\r\n        setTime()\r\n\r\n        return () => setTotal(0)\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        setSecond(total%60)\r\n        setMins(parseInt(total/60))\r\n        setHours(parseInt(total/3600))\r\n    },[total])\r\n\r\n\r\n    // End Call\r\n    const addCallMessage = useCallback((call, times, disconnect) => {\r\n        if(call.recipient !== auth.user._id || disconnect){\r\n            const msg = {\r\n                sender: call.sender,\r\n                recipient: call.recipient,\r\n                text: '', \r\n                media: [],\r\n                call: {video: call.video, times},\r\n                createdAt: new Date().toISOString()\r\n            }\r\n            dispatch(addMessage({msg, auth, socket}))\r\n        }\r\n    },[auth, dispatch, socket])\r\n\r\n    const handleEndCall = () => {\r\n        tracks && tracks.forEach(track => track.stop())\r\n        if(newCall) newCall.close()\r\n        let times = answer ? total : 0\r\n        socket.emit('endCall', {...call, times})\r\n        \r\n        addCallMessage(call, times)\r\n        dispatch({type: GLOBALTYPES.CALL, payload: null })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(answer){\r\n            setTotal(0)\r\n        }else{\r\n            const timer = setTimeout(() => {\r\n                socket.emit('endCall', {...call, times: 0})\r\n                addCallMessage(call, 0)\r\n                dispatch({type: GLOBALTYPES.CALL, payload: null })\r\n            }, 15000)\r\n    \r\n            return () => clearTimeout(timer)\r\n        }\r\n        \r\n    },[dispatch, answer, call, socket, addCallMessage])\r\n\r\n    useEffect(() => {\r\n        socket.on('endCallToClient', data => {\r\n            tracks && tracks.forEach(track => track.stop())\r\n            if(newCall) newCall.close()\r\n            addCallMessage(data, data.times)\r\n            dispatch({ type: GLOBALTYPES.CALL, payload: null })\r\n        })\r\n\r\n        return () => socket.off('endCallToClient')\r\n    },[socket, dispatch, tracks, addCallMessage, newCall])\r\n\r\n\r\n    // Stream Media\r\n    const openStream = (video) => {\r\n        const config = { audio: true, video }\r\n        return navigator.mediaDevices.getUserMedia(config)\r\n    }\r\n\r\n    const playStream = (tag, stream) => {\r\n        let video = tag;\r\n        video.srcObject = stream;\r\n        video.play()\r\n    }\r\n\r\n    // Answer Call\r\n    const handleAnswer = () => {\r\n        openStream(call.video).then(stream => {\r\n            playStream(youVideo.current, stream)\r\n            const track = stream.getTracks()\r\n            setTracks(track)\r\n            \r\n            const newCall = peer.call(call.peerId, stream);\r\n            newCall.on('stream', function(remoteStream) {\r\n                playStream(otherVideo.current, remoteStream)\r\n            });\r\n            setAnswer(true)\r\n            setNewCall(newCall)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        peer.on('call', newCall => {\r\n            openStream(call.video).then(stream => {\r\n                if(youVideo.current){\r\n                    playStream(youVideo.current, stream)\r\n                }\r\n                const track = stream.getTracks()\r\n                setTracks(track)\r\n                \r\n                newCall.answer(stream)\r\n                newCall.on('stream', function(remoteStream) {\r\n                    if(otherVideo.current){\r\n                        playStream(otherVideo.current, remoteStream)\r\n                    }\r\n                });\r\n                setAnswer(true) \r\n                setNewCall(newCall)\r\n            })\r\n        })\r\n        return () => peer.removeListener('call')\r\n    },[peer, call.video])\r\n\r\n    // Disconnect\r\n    useEffect(() => {\r\n        socket.on('callerDisconnect', () => {\r\n            tracks && tracks.forEach(track => track.stop())\r\n            if(newCall) newCall.close()\r\n            let times = answer ? total : 0\r\n            addCallMessage(call, times, true)\r\n\r\n            dispatch({type: GLOBALTYPES.CALL, payload: null })\r\n\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, \r\n                payload: {error: `The ${call.username} disconnect`} \r\n            })\r\n        })\r\n\r\n        return () => socket.off('callerDisconnect')\r\n    },[socket, tracks, dispatch, call, addCallMessage, answer, total, newCall])\r\n\r\n    // Play - Pause Audio\r\n    const playAudio = (newAudio) => {\r\n        newAudio.play()\r\n    }\r\n\r\n    const pauseAudio = (newAudio) => {\r\n        newAudio.pause()\r\n        newAudio.currentTime = 0\r\n    }\r\n\r\n    useEffect(() => {\r\n        let newAudio = new Audio(RingRing)\r\n        if(answer){\r\n            pauseAudio(newAudio)\r\n        }else{\r\n            playAudio(newAudio)\r\n        }\r\n\r\n        return () => pauseAudio(newAudio)\r\n    },[answer])\r\n\r\n\r\n    return (\r\n        <div className=\"call_modal\">\r\n            <div className=\"call_box\" style={{\r\n                display: (answer && call.video) ? 'none' : 'flex'\r\n            }} >\r\n\r\n                <div className=\"text-center\" style={{padding: '40px 0'}} >\r\n                    <Avatar src={call.avatar} size=\"supper-avatar\" />\r\n                    <h4>{call.username}</h4>\r\n                    <h6>{call.fullname}</h6>\r\n\r\n                    {\r\n                        answer \r\n                        ? <div>\r\n                            <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\r\n                            <span>:</span>\r\n                            <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\r\n                            <span>:</span>\r\n                            <span>{ second.toString().length < 2 ? '0' + second : second }</span>\r\n                        </div>\r\n                        : <div>\r\n                            {\r\n                                call.video\r\n                                ? <span>calling video...</span>\r\n                                : <span>calling audio...</span>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    \r\n                </div>\r\n                \r\n                {\r\n                    !answer && \r\n                    <div className=\"timer\">\r\n                        <small>{ mins.toString().length < 2 ? '0' + mins : mins }</small>\r\n                        <small>:</small>\r\n                        <small>{ second.toString().length < 2 ? '0' + second : second }</small>\r\n                    </div>\r\n                }\r\n                \r\n\r\n                <div className=\"call_menu\">\r\n                    <button className=\"material-icons text-danger\"\r\n                    onClick={handleEndCall}>\r\n                        call_end\r\n                    </button>\r\n                    \r\n                    {\r\n                        (call.recipient === auth.user._id && !answer) &&\r\n                        <>\r\n                            {\r\n                                call.video\r\n                                ? <button className=\"material-icons text-success\"\r\n                                onClick={handleAnswer}>\r\n                                    videocam\r\n                                </button>\r\n                                : <button className=\"material-icons text-success\"\r\n                                onClick={handleAnswer}>\r\n                                    call\r\n                                </button>\r\n                            }\r\n                        </>\r\n                    }\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n\r\n            <div className=\"show_video\" style={{\r\n                opacity: (answer && call.video) ? '1' : '0',\r\n                filter: theme ? 'invert(1)' : 'invert(0)'\r\n            }} >\r\n\r\n                <video ref={youVideo} className=\"you_video\" playsInline muted />\r\n                <video ref={otherVideo} className=\"other_video\" playsInline />\r\n\r\n                <div className=\"time_video\">\r\n                    <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\r\n                    <span>:</span>\r\n                    <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\r\n                    <span>:</span>\r\n                    <span>{ second.toString().length < 2 ? '0' + second : second }</span>\r\n                </div>\r\n\r\n                <button className=\"material-icons text-danger end_call\"\r\n                onClick={handleEndCall}>\r\n                    call_end\r\n                </button>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CallModal\r\n","import React, { FC, useMemo } from 'react';\r\nimport { ConnectionProvider, WalletProvider } from '@solana/wallet-adapter-react';\r\nimport { WalletAdapterNetwork } from '@solana/wallet-adapter-base';\r\nimport {\r\n    LedgerWalletAdapter,\r\n    PhantomWalletAdapter,\r\n    SlopeWalletAdapter,\r\n    SolflareWalletAdapter,\r\n    SolletExtensionWalletAdapter,\r\n    SolletWalletAdapter,\r\n    TorusWalletAdapter,\r\n} from '@solana/wallet-adapter-wallets';\r\nimport {\r\n    WalletModalProvider,\r\n    WalletDisconnectButton,\r\n    WalletMultiButton\r\n} from '@solana/wallet-adapter-react-ui';\r\nimport { clusterApiUrl } from '@solana/web3.js';\r\n\r\n// Default styles that can be overridden by your app\r\nrequire('@solana/wallet-adapter-react-ui/styles.css');\r\n\r\nexport const Wallet: FC = () => {\r\n    // The network can be set to 'devnet', 'testnet', or 'mainnet-beta'.\r\n    const network = WalletAdapterNetwork.Devnet;\r\n\r\n    // You can also provide a custom RPC endpoint.\r\n    const endpoint = useMemo(() => clusterApiUrl(network), [network]);\r\n\r\n    // @solana/wallet-adapter-wallets includes all the adapters but supports tree shaking and lazy loading --\r\n    // Only the wallets you configure here will be compiled into your application, and only the dependencies\r\n    // of wallets that your users connect to will be loaded.\r\n    const wallets = useMemo(\r\n        () => [\r\n            new PhantomWalletAdapter(),\r\n            new SlopeWalletAdapter(),\r\n            new SolflareWalletAdapter(),\r\n            new TorusWalletAdapter(),\r\n            new LedgerWalletAdapter(),\r\n            new SolletWalletAdapter({ network }),\r\n            new SolletExtensionWalletAdapter({ network }),\r\n        ],\r\n        [network]\r\n    );\r\n\r\n    return (\r\n        <ConnectionProvider endpoint={endpoint}>\r\n            <WalletProvider wallets={wallets} autoConnect>\r\n                <WalletModalProvider>\r\n                    <WalletMultiButton />\r\n                    <WalletDisconnectButton />\r\n                    { /* Your app's components go here, nested within the context providers. */ }\r\n                </WalletModalProvider>\r\n            </WalletProvider>\r\n        </ConnectionProvider>\r\n    );\r\n};","import { useEffect } from 'react'\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\r\n\r\nimport PageRender from './customRouter/PageRender'\r\nimport PrivateRouter from './customRouter/PrivateRouter'\r\n\r\nimport Home from './pages/home'\r\nimport Login from './pages/login'\r\nimport Register from './pages/register'\r\n\r\nimport Alert from './components/alert/Alert'\r\nimport Header from './components/header/Header'\r\nimport StatusModal from './components/StatusModal'\r\n\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { refreshToken } from './redux/actions/authAction'\r\nimport { getPosts } from './redux/actions/postAction'\r\nimport { getSuggestions } from './redux/actions/suggestionsAction'\r\n\r\nimport io from 'socket.io-client'\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\r\nimport SocketClient from './SocketClient'\r\n\r\nimport { getNotifies } from './redux/actions/notifyAction'\r\nimport CallModal from './components/message/CallModal'\r\nimport Peer from 'peerjs'\r\n\r\nimport _ from 'lodash'\r\nimport { Wallet } from './components/WalletContext'\r\n\r\nfunction App() {\r\n  const { auth, status, modal, call } = useSelector(state => state)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(refreshToken())\r\n\r\n    const socket = io()\r\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket})\r\n    return () => socket.close()\r\n  },[dispatch])\r\n\r\n  useEffect(() => {\r\n    if(auth.token) {\r\n      dispatch(getPosts(auth.token))\r\n      dispatch(getSuggestions(auth.token))\r\n      dispatch(getNotifies(auth.token))\r\n    }\r\n  }, [dispatch, auth.token])\r\n\r\n  \r\n  useEffect(() => {\r\n    if (!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support desktop notification\");\r\n    }\r\n    else if (Notification.permission === \"granted\") {}\r\n    else if (Notification.permission !== \"denied\") {\r\n      Notification.requestPermission().then(function (permission) {\r\n        if (permission === \"granted\") {}\r\n      });\r\n    }\r\n  },[])\r\n\r\n \r\n  useEffect(() => {\r\n    const newPeer = new Peer(undefined, {\r\n      path: '/', secure: true\r\n    })\r\n    \r\n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer })\r\n  },[dispatch])\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && 'mode'}`}>\r\n        <div className=\"main\">\r\n          {auth.token && <Header />}\r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient />}\r\n          {call && <CallModal />}\r\n          \r\n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n\r\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n          \r\n        </div>\r\n      </div>\r\n      <Wallet/>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = {}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.AUTH:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = {}\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.ALERT:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default alertReducer\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = false\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.THEME:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default themeReducer","import { PROFILE_TYPES } from '../actions/profileAction'\r\nimport { EditData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    ids: [],\r\n    users: [],\r\n    posts: []\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case PROFILE_TYPES.LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case PROFILE_TYPES.GET_USER:\r\n            return {\r\n                ...state,\r\n                users: [...state.users, action.payload.user]\r\n            };\r\n        case PROFILE_TYPES.FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: EditData(state.users, action.payload._id, action.payload)\r\n            };\r\n        case PROFILE_TYPES.UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: EditData(state.users, action.payload._id, action.payload)\r\n            };\r\n        case PROFILE_TYPES.GET_ID:\r\n            return {\r\n                ...state,\r\n                ids: [...state.ids, action.payload]\r\n            };\r\n        case PROFILE_TYPES.GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, action.payload]\r\n            };\r\n        case PROFILE_TYPES.UPDATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: EditData(state.posts, action.payload._id, action.payload)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst statusReducer = (state = false, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.STATUS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default statusReducer","import { POST_TYPES } from '../actions/postAction'\r\nimport { EditData, DeleteData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 0,\r\n    page: 2\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case POST_TYPES.CREATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: [action.payload, ...state.posts]\r\n            };\r\n        case POST_TYPES.LOADING_POST:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case POST_TYPES.GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.posts,\r\n                result: action.payload.result,\r\n                page: action.payload.page\r\n            };\r\n        case POST_TYPES.UPDATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: EditData(state.posts, action.payload._id, action.payload)\r\n            };\r\n        case POST_TYPES.DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: DeleteData(state.posts, action.payload._id)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default postReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\nconst initialState = false\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.MODAL:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default modalReducer","import { POST_TYPES } from '../actions/postAction'\r\nimport { EditData } from '../actions/globalTypes'\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n    switch (action.type){\r\n        case POST_TYPES.GET_POST:\r\n            return [...state, action.payload]\r\n        case POST_TYPES.UPDATE_POST:\r\n            return EditData(state, action.payload._id, action.payload)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default detailPostReducer","import { DISCOVER_TYPES } from '../actions/discoverAction'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 9,\r\n    page: 2,\r\n    firstLoad: false\r\n}\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case DISCOVER_TYPES.LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case DISCOVER_TYPES.GET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.posts,\r\n                result: action.payload.result,\r\n                firstLoad: true\r\n            };\r\n        case DISCOVER_TYPES.UPDATE_POST:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.posts,\r\n                result: action.payload.result,\r\n                page: state.page + 1\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default discoverReducer\r\n","import { SUGGES_TYPES } from '../actions/suggestionsAction'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    users: []\r\n}\r\n\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case SUGGES_TYPES.LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            };\r\n        case SUGGES_TYPES.GET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.payload.users\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default suggestionsReducer\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst socketReducer = (state = [], action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.SOCKET:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default socketReducer","import { NOTIFY_TYPES } from '../actions/notifyAction'\r\nimport { EditData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    data: [],\r\n    sound: false\r\n}\r\n\r\nconst notifyReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case NOTIFY_TYPES.GET_NOTIFIES:\r\n            return {\r\n                ...state,\r\n                data: action.payload\r\n            };\r\n        case NOTIFY_TYPES.CREATE_NOTIFY:\r\n            return {\r\n                ...state,\r\n                data: [action.payload, ...state.data]\r\n            };\r\n        case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n            return {\r\n                ...state,\r\n                data: state.data.filter(item => (\r\n                    item.id !== action.payload.id || item.url !== action.payload.url\r\n                ))\r\n            };\r\n        case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n            return {\r\n                ...state,\r\n                data: EditData(state.data, action.payload._id, action.payload)\r\n            };\r\n        case NOTIFY_TYPES.UPDATE_SOUND:\r\n            return {\r\n                ...state,\r\n                sound: action.payload\r\n            };\r\n        case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\r\n            return {\r\n                ...state,\r\n                data: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default notifyReducer","import { MESS_TYPES } from '../actions/messageAction'\r\nimport { EditData, DeleteData } from '../actions/globalTypes'\r\n\r\nconst initialState = {\r\n    users: [],\r\n    resultUsers: 0,\r\n    data: [],\r\n    firstLoad: false\r\n}\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case MESS_TYPES.ADD_USER:\r\n            if(state.users.every(item => item._id !== action.payload._id)){\r\n                return {\r\n                    ...state,\r\n                    users: [action.payload, ...state.users]\r\n                };\r\n            }\r\n            return state;\r\n        case MESS_TYPES.ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                data: state.data.map(item => \r\n                    item._id === action.payload.recipient || item._id === action.payload.sender \r\n                    ? {\r\n                        ...item,\r\n                        messages: [...item.messages, action.payload],\r\n                        result: item.result + 1\r\n                    }\r\n                    : item\r\n                ),\r\n                users: state.users.map(user => \r\n                    user._id === action.payload.recipient || user._id === action.payload.sender\r\n                    ? {\r\n                        ...user, \r\n                        text: action.payload.text, \r\n                        media: action.payload.media,\r\n                        call: action.payload.call\r\n                    }\r\n                    : user\r\n                )\r\n            };\r\n        case MESS_TYPES.GET_CONVERSATIONS:\r\n            return {\r\n                ...state,\r\n                users: action.payload.newArr,\r\n                resultUsers: action.payload.result,\r\n                firstLoad: true\r\n            };\r\n        case MESS_TYPES.GET_MESSAGES:\r\n            return {\r\n                ...state,\r\n                data: [...state.data, action.payload]\r\n            };\r\n        case MESS_TYPES.UPDATE_MESSAGES:\r\n            return {\r\n                ...state,\r\n                data: EditData(state.data, action.payload._id, action.payload)\r\n            };\r\n        case MESS_TYPES.DELETE_MESSAGES:\r\n            return {\r\n                ...state,\r\n                data: state.data.map(item => \r\n                    item._id === action.payload._id\r\n                    ? {...item, messages: action.payload.newData}\r\n                    : item\r\n                )\r\n            };\r\n        case MESS_TYPES.DELETE_CONVERSATION:\r\n            return {\r\n                ...state,\r\n                users: DeleteData(state.users, action.payload),\r\n                data: DeleteData(state.data, action.payload)\r\n            };\r\n        case MESS_TYPES.CHECK_ONLINE_OFFLINE:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => \r\n                    action.payload.includes(user._id)\r\n                    ? {...user, online: true}\r\n                    : {...user, online: false}\r\n                )\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default messageReducer;","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst onlineReducer = (state = [], action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.ONLINE:\r\n            return [...state, action.payload];\r\n        case GLOBALTYPES.OFFLINE:\r\n            return state.filter(item => item !== action.payload)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default onlineReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst callReducer = (state = null, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.CALL:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default callReducer","import { GLOBALTYPES } from '../actions/globalTypes'\r\n\r\n\r\nconst peerReducer = (state = null, action) => {\r\n    switch (action.type){\r\n        case GLOBALTYPES.PEER:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default peerReducer","import { combineReducers } from 'redux'\r\nimport auth from './authReducer'\r\nimport alert from './alertReducer'\r\nimport theme from './themeReducer'\r\nimport profile from './profileReducer'\r\nimport status from './statusReducer'\r\nimport homePosts from './postReducer'\r\nimport modal from './modalReducer'\r\nimport detailPost from './detailPostReducer'\r\nimport discover from './discoverReducer'\r\nimport suggestions from './suggestionsReducer'\r\nimport socket from './socketReducer'\r\nimport notify from './notifyReducer'\r\nimport message from './messageReducer'\r\nimport online from './onlineReducer'\r\nimport call from './callReducer'\r\nimport peer from './peerReducer'\r\n\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    alert,\r\n    theme,\r\n    profile,\r\n    status,\r\n    homePosts,\r\n    modal,\r\n    detailPost,\r\n    discover,\r\n    suggestions,\r\n    socket,\r\n    notify,\r\n    message,\r\n    online,\r\n    call,\r\n    peer\r\n})","import { createStore, applyMiddleware } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from './reducers/index'\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nconst DataProvider = ({children}) => {\r\n    return(\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport DataProvider from './redux/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Avatar = ({src, size}) => {\r\n    const { theme } = useSelector(state => state)\r\n\r\n    return (\r\n        <img src={src} alt=\"avatar\" className={size}\r\n        style={{filter: `${theme ? 'invert(1)' : 'invert(0)'}`}} />\r\n    )\r\n}\r\n\r\nexport default Avatar\r\n","import { GLOBALTYPES, DeleteData } from './globalTypes'\r\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData'\r\nimport { imageUpload } from '../../utils/imageUpload'\r\nimport { createNotify, removeNotify } from '../actions/notifyAction'\r\n\r\n\r\nexport const PROFILE_TYPES = {\r\n    LOADING: 'LOADING_PROFILE',\r\n    GET_USER: 'GET_PROFILE_USER',\r\n    FOLLOW: 'FOLLOW',\r\n    UNFOLLOW: 'UNFOLLOW',\r\n    GET_ID: 'GET_PROFILE_ID',\r\n    GET_POSTS: 'GET_PROFILE_POSTS',\r\n    UPDATE_POST: 'UPDATE_PROFILE_POST'\r\n}\r\n\r\n\r\nexport const getProfileUsers = ({id, auth}) => async (dispatch) => {\r\n    dispatch({type: PROFILE_TYPES.GET_ID, payload: id})\r\n\r\n    try {\r\n        dispatch({type: PROFILE_TYPES.LOADING, payload: true})\r\n        const res = getDataAPI(`/user/${id}`, auth.token)\r\n        const res1 = getDataAPI(`/user_posts/${id}`, auth.token)\r\n        \r\n        const users = await res;\r\n        const posts = await res1;\r\n\r\n        dispatch({\r\n            type: PROFILE_TYPES.GET_USER,\r\n            payload: users.data\r\n        })\r\n\r\n        dispatch({\r\n            type: PROFILE_TYPES.GET_POSTS,\r\n            payload: {...posts.data, _id: id, page: 2}\r\n        })\r\n\r\n        dispatch({type: PROFILE_TYPES.LOADING, payload: false})\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\r\n    if(!userData.fullname)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please add your full name.\"}})\r\n\r\n    if(userData.fullname.length > 25)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your full name too long.\"}})\r\n\r\n    if(userData.story.length > 200)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your story too long.\"}})\r\n\r\n    try {\r\n        let media;\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\r\n\r\n        if(avatar) media = await imageUpload([avatar])\r\n\r\n        const res = await patchDataAPI(\"user\", {\r\n            ...userData,\r\n            avatar: avatar ? media[0].url : auth.user.avatar\r\n        }, auth.token)\r\n\r\n        dispatch({\r\n            type: GLOBALTYPES.AUTH,\r\n            payload: {\r\n                ...auth,\r\n                user: {\r\n                    ...auth.user, ...userData,\r\n                    avatar: avatar ? media[0].url : auth.user.avatar,\r\n                }\r\n            }\r\n        })\r\n\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {success: res.data.msg}})\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = ({users, user, auth, socket}) => async (dispatch) => {\r\n    let newUser;\r\n    \r\n    if(users.every(item => item._id !== user._id)){\r\n        newUser = {...user, followers: [...user.followers, auth.user]}\r\n    }else{\r\n        users.forEach(item => {\r\n            if(item._id === user._id){\r\n                newUser = {...item, followers: [...item.followers, auth.user]}\r\n            }\r\n        })\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser })\r\n\r\n    dispatch({\r\n        type: GLOBALTYPES.AUTH, \r\n        payload: {\r\n            ...auth,\r\n            user: {...auth.user, following: [...auth.user.following, newUser]}\r\n        }\r\n    })\r\n\r\n\r\n    try {\r\n        const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token)\r\n        socket.emit('follow', res.data.newUser)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'has started to follow you.',\r\n            recipients: [newUser._id],\r\n            url: `/profile/${auth.user._id}`,\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}\r\n\r\nexport const unfollow = ({users, user, auth, socket}) => async (dispatch) => {\r\n\r\n    let newUser;\r\n\r\n    if(users.every(item => item._id !== user._id)){\r\n        newUser = {...user, followers: DeleteData(user.followers, auth.user._id)}\r\n    }else{\r\n        users.forEach(item => {\r\n            if(item._id === user._id){\r\n                newUser = {...item, followers: DeleteData(item.followers, auth.user._id)}\r\n            }\r\n        })\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser })\r\n\r\n    dispatch({\r\n        type: GLOBALTYPES.AUTH, \r\n        payload: {\r\n            ...auth,\r\n            user: { \r\n                ...auth.user, \r\n                following: DeleteData(auth.user.following, newUser._id) \r\n            }\r\n        }\r\n    })\r\n   \r\n\r\n    try {\r\n        const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token)\r\n        socket.emit('unFollow', res.data.newUser)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: auth.user._id,\r\n            text: 'has started to follow you.',\r\n            recipients: [newUser._id],\r\n            url: `/profile/${auth.user._id}`,\r\n        }\r\n\r\n        dispatch(removeNotify({msg, auth, socket}))\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {error: err.response.data.msg}\r\n        })\r\n    }\r\n}","import React from 'react'\r\nimport Avatar from './Avatar'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst UserCard = ({children, user, border, handleClose, setShowFollowers, setShowFollowing, msg}) => {\r\n\r\n    const { theme } = useSelector(state => state)\r\n\r\n    const handleCloseAll = () => {\r\n        if(handleClose) handleClose()\r\n        if(setShowFollowers) setShowFollowers(false)\r\n        if(setShowFollowing) setShowFollowing(false)\r\n    }\r\n\r\n    const showMsg = (user) => {\r\n        return(\r\n            <>\r\n                <div style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\r\n                    {user.text}\r\n                </div>\r\n                {\r\n                    user.media.length > 0 && \r\n                    <div>\r\n                        {user.media.length} <i className=\"fas fa-image\" />\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    user.call &&\r\n                    <span className=\"material-icons\">\r\n                        {\r\n                            user.call.times === 0\r\n                            ? user.call.video ? 'videocam_off' : 'phone_disabled'\r\n                            : user.call.video ? 'video_camera_front' : 'call'\r\n                        }\r\n                    </span>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\r\n            <div>\r\n                <Link to={`/profile/${user._id}`} onClick={handleCloseAll}\r\n                className=\"d-flex align-items-center\">\r\n                    \r\n                    <Avatar src={user.avatar} size=\"big-avatar\" />\r\n\r\n                    <div className=\"ml-1\" style={{transform: 'translateY(-2px)'}}>\r\n                        <span className=\"d-block\">{user.username}</span>\r\n                        \r\n                        <small style={{opacity: 0.7}}>\r\n                            {\r\n                                msg \r\n                                ? showMsg(user)\r\n                                : user.fullname\r\n                            }\r\n                        </small>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            \r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserCard\r\n","export const imageShow = (src, theme) => {\r\n    return(\r\n        <img src={src} alt=\"images\" className=\"img-thumbnail\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n    )\r\n}\r\n\r\nexport const videoShow = (src, theme) => {\r\n    return(\r\n        <video controls src={src} alt=\"images\" className=\"img-thumbnail\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n    )\r\n}","export const checkImage = (file) => {\r\n    let err = \"\"\r\n    if(!file) return err = \"File does not exist.\"\r\n\r\n    if(file.size > 1024 * 1024) // 1mb\r\n    err = \"The largest image size is 1mb.\"\r\n\r\n    if(file.type !== 'image/jpeg' && file.type !== 'image/png' )\r\n    err = \"Image format is incorrect.\"\r\n    \r\n    return err;\r\n}\r\n\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData()\r\n\r\n        if(item.camera){\r\n            formData.append(\"file\", item.camera)\r\n        }else{\r\n            formData.append(\"file\", item)\r\n        }\r\n        // formData.append(\"eager\", \"design123\")\r\n        \r\n        formData.append(\"upload_preset\", \"qcnvr7tb\")\r\n        formData.append(\"cloud_name\", \"design123\")\r\n\r\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/design123/upload\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n        \r\n        const data = await res.json()\r\n        imgArr.push({public_id: data.public_id, url: data.secure_url})\r\n    }\r\n    return imgArr;\r\n}","import React from 'react'\r\n\r\nconst LoadMoreBtn = ({result, page, load, handleLoadMore}) => {\r\n    return (\r\n        <>\r\n            {\r\n                result < 9 * (page - 1) ? '' : \r\n\r\n                !load && <button className=\"btn btn-dark mx-auto d-block\"\r\n                onClick={handleLoadMore}>\r\n                    Load more\r\n                </button>\r\n            }\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoadMoreBtn\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { follow, unfollow } from '../redux/actions/profileAction'\r\n\r\nconst FollowBtn = ({user}) => {\r\n    const [followed, setFollowed] = useState(false)\r\n\r\n    const { auth, profile, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(auth.user.following.find(item => item._id === user._id)){\r\n            setFollowed(true)\r\n        }\r\n        return () => setFollowed(false)\r\n    }, [auth.user.following, user._id])\r\n\r\n    const handleFollow =  async () => {\r\n        if(load) return;\r\n\r\n        setFollowed(true)\r\n        setLoad(true)\r\n        await dispatch(follow({users: profile.users, user, auth, socket}))\r\n        setLoad(false)\r\n    }\r\n\r\n    const handleUnFollow = async () => {\r\n        if(load) return;\r\n\r\n        setFollowed(false)\r\n        setLoad(true)\r\n        await dispatch(unfollow({users: profile.users, user, auth, socket}))\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {\r\n            followed\r\n            ? <button className=\"btn btn-outline-danger\"\r\n            onClick={handleUnFollow}>\r\n                UnFollow\r\n            </button>\r\n            : <button className=\"btn btn-outline-info\"\r\n            onClick={handleFollow}>\r\n                Follow\r\n            </button>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FollowBtn\r\n","const valid = ({fullname, username, email, password, cf_password}) => {\r\n    const err = {}\r\n\r\n    if(!fullname) {\r\n        err.fullname = \"Please add your full name.\"\r\n    }else if(fullname.length > 25){\r\n        err.fullname = \"Full name is up to 25 characters long.\"\r\n    }\r\n\r\n    if(!username) {\r\n        err.username = \"Please add your user name.\"\r\n    }else if(username.replace(/ /g, '').length > 25){\r\n        err.username = \"User name is up to 25 characters long.\"\r\n    }\r\n\r\n    if(!email) {\r\n        err.email = \"Please add your email.\"\r\n    }else if(!validateEmail(email)){\r\n        err.email = \"Email format is incorrect.\"\r\n    }\r\n\r\n    if(!password) {\r\n        err.password = \"Please add your password.\"\r\n    }else if(password.length < 6){\r\n        err.password = \"Password must be at least 6 characters.\"\r\n    }\r\n\r\n    if(password !== cf_password) {\r\n        err.cf_password = \"Confirm password did not match.\"\r\n    }\r\n\r\n    return {\r\n        errMsg: err,\r\n        errLength: Object.keys(err).length\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction validateEmail(email) {\r\n    // eslint-disable-next-line\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n  \r\nexport default valid","import { GLOBALTYPES } from './globalTypes'\r\nimport { postDataAPI } from '../../utils/fetchData'\r\nimport valid from '../../utils/valid'\r\n\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        const res = await postDataAPI('login', data)\r\n        dispatch({ \r\n            type: GLOBALTYPES.AUTH, \r\n            payload: {\r\n                token: res.data.access_token,\r\n                user: res.data.user\r\n            } \r\n        })\r\n\r\n        localStorage.setItem(\"firstLogin\", true)\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                success: res.data.msg\r\n            } \r\n        })\r\n        \r\n    } catch (err) {\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                error: err.response.data.msg\r\n            } \r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const refreshToken = () => async (dispatch) => {\r\n    const firstLogin = localStorage.getItem(\"firstLogin\")\r\n    if(firstLogin){\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n\r\n        try {\r\n            const res = await postDataAPI('refresh_token')\r\n            dispatch({ \r\n                type: GLOBALTYPES.AUTH, \r\n                payload: {\r\n                    token: res.data.access_token,\r\n                    user: res.data.user\r\n                } \r\n            })\r\n\r\n            dispatch({ type: GLOBALTYPES.ALERT, payload: {} })\r\n\r\n        } catch (err) {\r\n            dispatch({ \r\n                type: GLOBALTYPES.ALERT, \r\n                payload: {\r\n                    error: err.response.data.msg\r\n                } \r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n    const check = valid(data)\r\n    if(check.errLength > 0)\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: check.errMsg})\r\n\r\n    try {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\r\n\r\n        const res = await postDataAPI('register', data)\r\n        dispatch({ \r\n            type: GLOBALTYPES.AUTH, \r\n            payload: {\r\n                token: res.data.access_token,\r\n                user: res.data.user\r\n            } \r\n        })\r\n\r\n        localStorage.setItem(\"firstLogin\", true)\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                success: res.data.msg\r\n            } \r\n        })\r\n    } catch (err) {\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                error: err.response.data.msg\r\n            } \r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    try {\r\n        localStorage.removeItem('firstLogin')\r\n        await postDataAPI('logout')\r\n        window.location.href = \"/\"\r\n    } catch (err) {\r\n        dispatch({ \r\n            type: GLOBALTYPES.ALERT, \r\n            payload: {\r\n                error: err.response.data.msg\r\n            } \r\n        })\r\n    }\r\n}","import { GLOBALTYPES } from '../actions/globalTypes'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\n\r\nexport const SUGGES_TYPES = {\r\n    LOADING: 'LOADING_SUGGES',\r\n    GET_USERS: 'GET_USERS_SUGGES',\r\n}\r\n\r\nexport const getSuggestions = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: true })\r\n        \r\n        const res = await getDataAPI('suggestionsUser', token)\r\n        dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data })\r\n\r\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: false })\r\n        \r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","import { GLOBALTYPES } from './globalTypes'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\n\r\nexport const DISCOVER_TYPES = {\r\n    LOADING: 'LOADING_DISCOVER',\r\n    GET_POSTS: 'GET_DISCOVER_POSTS',\r\n    UPDATE_POST: 'UPDATE_DISCOVER_POST'\r\n}\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true})\r\n\r\n        const res = await getDataAPI(`post_discover`, token)\r\n        dispatch({type: DISCOVER_TYPES.GET_POSTS, payload: res.data})\r\n\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false})\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    }\r\n}","export const GLOBALTYPES = {\r\n    AUTH: \"AUTH\",\r\n    ALERT: \"ALERT\",\r\n    THEME: 'THEME',\r\n    STATUS: 'STATUS',\r\n    MODAL: 'MODAL',\r\n    SOCKET: 'SOCKET',\r\n    ONLINE: 'ONLINE',\r\n    OFFLINE: 'OFFLINE',\r\n    CALL: 'CALL',\r\n    PEER: 'PEER'\r\n}\r\n\r\nexport const EditData = (data, id, post) => {\r\n    const newData = data.map(item => \r\n        (item._id === id ? post : item)\r\n    )\r\n    return newData;\r\n}\r\n\r\nexport const DeleteData = (data, id) => {\r\n    const newData = data.filter(item => item._id !== id)\r\n    return newData;\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst PostThumb = ({posts, result}) => {\r\n    const { theme } = useSelector(state => state)\r\n\r\n    if(result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>\r\n\r\n    return (\r\n        <div className=\"post_thumb\">\r\n            {\r\n                posts.map(post => (\r\n                    <Link key={post._id} to={`/post/${post._id}`}>\r\n                        <div className=\"post_thumb_display\">\r\n\r\n                            {\r\n                                post.images[0].url.match(/video/i)\r\n                                ?<video controls src={post.images[0].url} alt={post.images[0].url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n\r\n                                :<img src={post.images[0].url} alt={post.images[0].url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                            }\r\n\r\n                            <div className=\"post_thumb_menu\">\r\n                                <i className=\"far fa-heart\">{post.likes.length}</i>\r\n                                <i className=\"far fa-comment\">{post.comments.length}</i>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostThumb\r\n","import React from 'react'\r\n\r\nconst Icons = ({setContent, content, theme}) => {\r\n    const reactions = [   \r\n        '', '', '', '', '', '', '', '',\r\n        '', '', '', '', '', '', '', '',\r\n        '', '', '', '', '', '', '', ''\r\n    ]\r\n\r\n    return (\r\n        <div className=\"nav-item dropdown\" \r\n        style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n            \r\n            <span className=\"nav-link position-relative px-1\" id=\"navbarDropdown\" \r\n            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <span style={{opacity: 0.4}}></span>\r\n            </span>\r\n\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                <div className=\"reactions\">\r\n                    {\r\n                        reactions.map(icon => (\r\n                            <span key={icon} onClick={() => setContent(content + icon)}>\r\n                                {icon}\r\n                            </span>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Icons\r\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\n\r\nconst Message = () => {\r\n    return (\r\n        <div className=\"message d-flex\">\r\n            <div className=\"col-md-4 border-right px-0\">\r\n                <LeftSide />\r\n            </div>\r\n\r\n            <div className=\"col-md-8 px-0 right_mess\">\r\n                <div className=\"d-flex justify-content-center \r\n                align-items-center flex-column h-100\">\r\n\r\n                    <i className=\"fab fa-facebook-messenger text-primary\"\r\n                    style={{fontSize: '5rem'}} />\r\n                    <h4>Messenger</h4>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { login } from '../redux/actions/authAction'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nconst Login = () => {\r\n    const initialState = { email: '', password: '' }\r\n    const [userData, setUserData] = useState(initialState)\r\n    const { email, password } = userData\r\n\r\n    const [typePass, setTypePass] = useState(false)\r\n\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if(auth.token) history.push(\"/\")\r\n    }, [auth.token, history])\r\n\r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target\r\n        setUserData({...userData, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        dispatch(login(userData))\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth_page\">\r\n            <form onSubmit={handleSubmit}>\r\n                <h3 className=\"text-uppercase text-center mb-4\">V-Network</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\r\n                    aria-describedby=\"emailHelp\" onChange={handleChangeInput} value={email} />\r\n                    \r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                        We'll never share your email with anyone else.\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n\r\n                    <div className=\"pass\">\r\n                        \r\n                        <input type={ typePass ? \"text\" : \"password\" } \r\n                        className=\"form-control\" id=\"exampleInputPassword1\"\r\n                        onChange={handleChangeInput} value={password} name=\"password\" />\r\n\r\n                        <small onClick={() => setTypePass(!typePass)}>\r\n                            {typePass ? 'Hide' : 'Show'}\r\n                        </small>\r\n                    </div>\r\n                   \r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-dark w-100\"\r\n                disabled={email && password ? false : true}>\r\n                    Login\r\n                </button>\r\n\r\n                <p className=\"my-2\">\r\n                    You don't have an account? <Link to=\"/register\" style={{color: \"crimson\"}}>Register Now</Link>\r\n                </p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { register } from '../redux/actions/authAction'\r\n\r\nconst Register = () => {\r\n    const { auth, alert } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const initialState = { \r\n        fullname: '', username: '', email: '', password: '', cf_password: '', gender: 'male'\r\n    }\r\n    const [userData, setUserData] = useState(initialState)\r\n    const { fullname, username, email, password, cf_password } = userData\r\n\r\n    const [typePass, setTypePass] = useState(false)\r\n    const [typeCfPass, setTypeCfPass] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(auth.token) history.push(\"/\")\r\n    }, [auth.token, history])\r\n\r\n    \r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target\r\n        setUserData({...userData, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        dispatch(register(userData))\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth_page\">\r\n            <form onSubmit={handleSubmit}>\r\n                <h3 className=\"text-uppercase text-center mb-4\">V-Network</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"fullname\">Full Name</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"fullname\" name=\"fullname\"\r\n                    onChange={handleChangeInput} value={fullname}\r\n                    style={{background: `${alert.fullname ? '#fd2d6a14' : ''}`}} />\r\n                    \r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.fullname ? alert.fullname : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">User Name</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\"\r\n                    onChange={handleChangeInput} value={username.toLowerCase().replace(/ /g, '')}\r\n                    style={{background: `${alert.username ? '#fd2d6a14' : ''}`}} />\r\n                    \r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.username ? alert.username : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\r\n                    onChange={handleChangeInput} value={email}\r\n                    style={{background: `${alert.email ? '#fd2d6a14' : ''}`}} />\r\n                    \r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.email ? alert.email : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n\r\n                    <div className=\"pass\">\r\n                        \r\n                        <input type={ typePass ? \"text\" : \"password\" } \r\n                        className=\"form-control\" id=\"exampleInputPassword1\"\r\n                        onChange={handleChangeInput} value={password} name=\"password\"\r\n                        style={{background: `${alert.password ? '#fd2d6a14' : ''}`}} />\r\n\r\n                        <small onClick={() => setTypePass(!typePass)}>\r\n                            {typePass ? 'Hide' : 'Show'}\r\n                        </small>\r\n                    </div>\r\n\r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.password ? alert.password : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"cf_password\">Confirm Password</label>\r\n\r\n                    <div className=\"pass\">\r\n                        \r\n                        <input type={ typeCfPass ? \"text\" : \"password\" } \r\n                        className=\"form-control\" id=\"cf_password\"\r\n                        onChange={handleChangeInput} value={cf_password} name=\"cf_password\"\r\n                        style={{background: `${alert.cf_password ? '#fd2d6a14' : ''}`}} />\r\n\r\n                        <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                            {typeCfPass ? 'Hide' : 'Show'}\r\n                        </small>\r\n                    </div>\r\n\r\n                    <small className=\"form-text text-danger\">\r\n                        {alert.cf_password ? alert.cf_password : ''}\r\n                    </small>\r\n                </div>\r\n\r\n                <div className=\"row justify-content-between mx-0 mb-1\">\r\n                    <label htmlFor=\"male\">\r\n                        Male: <input type=\"radio\" id=\"male\" name=\"gender\"\r\n                        value=\"male\" defaultChecked onChange={handleChangeInput} />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"female\">\r\n                        Female: <input type=\"radio\" id=\"female\" name=\"gender\"\r\n                        value=\"female\" onChange={handleChangeInput} />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"other\">\r\n                        Other: <input type=\"radio\" id=\"other\" name=\"gender\"\r\n                        value=\"other\" onChange={handleChangeInput} />\r\n                    </label>\r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n                    Register\r\n                </button>\r\n\r\n                <p className=\"my-2\">\r\n                    Already have an account? <Link to=\"/\" style={{color: \"crimson\"}}>Login Now</Link>\r\n                </p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\nimport Avatar from '../Avatar'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Status = () => {\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className=\"status my-3 d-flex\">\r\n            <Avatar src={auth.user.avatar} size=\"big-avatar\" />\r\n            \r\n            <button className=\"statusBtn flex-fill\"\r\n            onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}>\r\n                {auth.user.username}, what are you thinking?\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Status\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport PostCard from '../PostCard'\r\n\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport LoadMoreBtn from '../LoadMoreBtn'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { POST_TYPES } from '../../redux/actions/postAction'\r\n\r\n\r\nconst Posts = () => {\r\n    const { homePosts, auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [load, setLoad] = useState(false)\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true)\r\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\r\n\r\n        dispatch({\r\n            type: POST_TYPES.GET_POSTS, \r\n            payload: {...res.data, page: homePosts.page + 1}\r\n        })\r\n\r\n        setLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                homePosts.posts.map(post => (\r\n                    <PostCard key={post._id} post={post} theme={theme} />\r\n                ))\r\n            }\r\n\r\n            {\r\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n            }\r\n\r\n            \r\n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\r\n            load={load} handleLoadMore={handleLoadMore} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport UserCard from '../UserCard'\r\nimport FollowBtn from '../FollowBtn'\r\nimport LoadIcon from '../../images/loading.gif'\r\nimport { getSuggestions } from '../../redux/actions/suggestionsAction'\r\n\r\nconst RightSideBar = () => {\r\n    const { auth, suggestions } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className=\"mt-3\">\r\n            <UserCard user={auth.user} />\r\n\r\n            <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n                <h5 className=\"text-danger\">Suggestions for you</h5>\r\n                {\r\n                    !suggestions.loading &&\r\n                    <i className=\"fas fa-redo\" style={{cursor: 'pointer'}}\r\n                    onClick={ () => dispatch(getSuggestions(auth.token)) } />\r\n                }\r\n            </div>\r\n\r\n            {\r\n                suggestions.loading\r\n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n                : <div className=\"suggestions\">\r\n                    {\r\n                        suggestions.users.map(user => (\r\n                            <UserCard key={user._id} user={user} >\r\n                                <FollowBtn user={user} />\r\n                            </UserCard>\r\n                        ))\r\n                    }\r\n                </div>\r\n            }\r\n\r\n            <div style={{opacity: 0.5}} className=\"my-2\" >\r\n                <a href=\"https://www.youtube.com/c/DevATHTML\" target=\"_blank\" rel=\"noreferrer\"\r\n                style={{wordBreak: 'break-all'}} >\r\n                    https://www.youtube.com/c/DevATHTML\r\n                </a>\r\n                <small className=\"d-block\">\r\n                    Welcome to our channel \"DevAT-VietNam\"\r\n                </small>\r\n\r\n                <small>\r\n                   &copy; 2021 V-NETWORK FROM DEV A.T VIET NAM\r\n                </small>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightSideBar\r\n","import React, { useEffect } from 'react'\r\n\r\nimport Status from '../components/home/Status'\r\nimport Posts from '../components/home/Posts'\r\nimport RightSideBar from '../components/home/RightSideBar'\r\n\r\nimport { useSelector } from 'react-redux'\r\nimport LoadIcon from '../images/loading.gif'\r\n\r\n\r\nlet scroll = 0;\r\n\r\nconst Home = () => {\r\n    const { homePosts } = useSelector(state => state)\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if(window.location.pathname === '/'){\r\n            scroll = window.pageYOffset\r\n            return scroll;\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scrollTo({top: scroll, behavior: 'smooth'})\r\n        }, 100)\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"home row mx-0\">\r\n            <div className=\"col-md-8\">\r\n                <Status />\r\n\r\n                {\r\n                    homePosts.loading \r\n                    ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n                    : (homePosts.result === 0 && homePosts.posts.length === 0)\r\n                        ? <h2 className=\"text-center\">No Post</h2>\r\n                        : <Posts />\r\n                }\r\n                \r\n            </div>\r\n            \r\n            <div className=\"col-md-4\">\r\n                <RightSideBar />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport UserCard from '../UserCard'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { MESS_TYPES, getConversations } from '../../redux/actions/messageAction'\r\n\r\n\r\nconst LeftSide = () => {\r\n    const { auth, message, online } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [search, setSearch] = useState('')\r\n    const [searchUsers, setSearchUsers] = useState([])\r\n\r\n    const history = useHistory()\r\n    const { id } = useParams()\r\n\r\n    const pageEnd = useRef()\r\n    const [page, setPage] = useState(0)\r\n\r\n    \r\n    const handleSearch = async e => {\r\n        e.preventDefault()\r\n        if(!search) return setSearchUsers([]);\r\n\r\n        try {\r\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\r\n            setSearchUsers(res.data.users)\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleAddUser = (user) => {\r\n        setSearch('')\r\n        setSearchUsers([])\r\n        dispatch({type: MESS_TYPES.ADD_USER, payload: {...user, text: '', media: []}})\r\n        dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\r\n        return history.push(`/message/${user._id}`)\r\n    }\r\n\r\n    const isActive = (user) => {\r\n        if(id === user._id) return 'active';\r\n        return ''\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(message.firstLoad) return;\r\n        dispatch(getConversations({auth}))\r\n    },[dispatch, auth, message.firstLoad])\r\n\r\n    // Load More\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(entries => {\r\n            if(entries[0].isIntersecting){\r\n                setPage(p => p + 1)\r\n            }\r\n        },{\r\n            threshold: 0.1\r\n        })\r\n\r\n        observer.observe(pageEnd.current)\r\n    },[setPage])\r\n\r\n    useEffect(() => {\r\n        if(message.resultUsers >= (page - 1) * 9 && page > 1){\r\n            dispatch(getConversations({auth, page}))\r\n        }\r\n    },[message.resultUsers, page, auth, dispatch])\r\n    \r\n\r\n    // Check User Online - Offline\r\n    useEffect(() => {\r\n        if(message.firstLoad) {\r\n            dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\r\n        }\r\n    },[online, message.firstLoad, dispatch])\r\n\r\n    return (\r\n        <>\r\n            <form className=\"message_header\" onSubmit={handleSearch} >\r\n                <input type=\"text\" value={search}\r\n                placeholder=\"Enter to Search...\"\r\n                onChange={e => setSearch(e.target.value)} />\r\n\r\n                <button type=\"submit\" style={{display: 'none'}}>Search</button>\r\n            </form>\r\n\r\n            <div className=\"message_chat_list\">\r\n                {\r\n                    searchUsers.length !== 0\r\n                    ?  <>\r\n                        {\r\n                            searchUsers.map(user => (\r\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\r\n                                onClick={() => handleAddUser(user)}>\r\n                                    <UserCard user={user} />\r\n                                </div>\r\n                            ))\r\n                        }\r\n                        \r\n                    </>\r\n                    : <>\r\n                        {\r\n                            message.users.map(user => (\r\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\r\n                                onClick={() => handleAddUser(user)}>\r\n                                    <UserCard user={user} msg={true}>\r\n                                        {\r\n                                            user.online\r\n                                            ? <i className=\"fas fa-circle text-success\" />\r\n                                            : auth.user.following.find(item => \r\n                                                item._id === user._id\r\n                                            ) && <i className=\"fas fa-circle\" />\r\n                                                \r\n                                        }\r\n                                        \r\n                                    </UserCard>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </>\r\n                }\r\n               \r\n               <button ref={pageEnd} style={{opacity: 0}} >Load More</button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LeftSide\r\n","export const BASE_URL = 'https://v-network-devat.herokuapp.com'","import React from 'react'\r\nimport Avatar from '../../Avatar'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport moment from 'moment'\r\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes'\r\nimport { deletePost } from '../../../redux/actions/postAction'\r\nimport { BASE_URL } from '../../../utils/config'\r\n\r\nconst CardHeader = ({post}) => {\r\n    const { auth, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    const handleEditPost = () => {\r\n        dispatch({ type: GLOBALTYPES.STATUS, payload: {...post, onEdit: true}})\r\n    }\r\n\r\n    const handleDeletePost = () => {\r\n        if(window.confirm(\"Are you sure want to delete this post?\")){\r\n            dispatch(deletePost({post, auth, socket}))\r\n            return history.push(\"/\")\r\n        }\r\n    }\r\n\r\n    const handleCopyLink = () => {\r\n        navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card_header\">\r\n            <div className=\"d-flex\">\r\n                <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n\r\n                <div className=\"card_name\">\r\n                    <h6 className=\"m-0\">\r\n                        <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\r\n                            {post.user.username}\r\n                        </Link>\r\n                    </h6>\r\n                    <small className=\"text-muted\">\r\n                        {moment(post.createdAt).fromNow()}\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"nav-item dropdown\">\r\n                <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n                    more_horiz\r\n                </span>\r\n\r\n                <div className=\"dropdown-menu\">\r\n                    {\r\n                        auth.user._id === post.user._id &&\r\n                        <>\r\n                            <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                                <span className=\"material-icons\">create</span> Edit Post\r\n                            </div>\r\n                            <div className=\"dropdown-item\" onClick={handleDeletePost} >\r\n                                <span className=\"material-icons\">delete_outline</span> Remove Post\r\n                            </div>\r\n                        </>\r\n                    }\r\n\r\n                    <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n                        <span className=\"material-icons\">content_copy</span> Copy Link\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardHeader\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Carousel = ({images, id}) => {\r\n    const isActive = index => {\r\n        if(index === 0) return \"active\";\r\n    }\r\n\r\n    const { theme } = useSelector(state => state)\r\n\r\n    return (\r\n        <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\r\n            <ol className=\"carousel-indicators\" style={{zIndex: 1}}>\r\n                {\r\n                    images.map((img, index) => (\r\n                        <li key={index} data-target={`#image${id}`} \r\n                        data-slide-to={index} className={isActive(index)} />\r\n                    ))\r\n                }\r\n                \r\n            </ol>\r\n\r\n            <div className=\"carousel-inner\">\r\n                {\r\n                    images.map((img, index) => (\r\n                        <div key={index} className={`carousel-item ${isActive(index)}`}>\r\n                            {\r\n                                img.url.match(/video/i)\r\n                                ? <video controls src={img.url} className=\"d-block w-100\" alt={img.url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n\r\n                                : <img src={img.url} className=\"d-block w-100\" alt={img.url}\r\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                            }\r\n                           \r\n                        </div>\r\n                    ))\r\n                }\r\n                \r\n            </div>\r\n            \r\n            {\r\n                images.length > 1 &&\r\n                <>\r\n                    <a className=\"carousel-control-prev\" href={`#image${id}`} role=\"button\" data-slide=\"prev\"\r\n                    style={{width: '5%'}}>\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n\r\n                    <a className=\"carousel-control-next\" href={`#image${id}`} role=\"button\" data-slide=\"next\"\r\n                    style={{width: '5%'}}>\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Carousel\r\n","import React, { useState } from 'react'\r\nimport Carousel from '../../Carousel'\r\n\r\nconst CardBody = ({post, theme}) => {\r\n    const [readMore, setReadMore] = useState(false)\r\n\r\n    \r\n    return (\r\n        <div className=\"card_body\">\r\n            <div className=\"card_body-content\" \r\n            style={{\r\n                filter: theme ? 'invert(1)' : 'invert(0)',\r\n                color: theme ? 'white' : '#111',\r\n            }}>\r\n                <span>\r\n                    {\r\n                        post.content.length < 60 \r\n                        ? post.content \r\n                        : readMore ? post.content + ' ' : post.content.slice(0, 60) + '.....'\r\n                    }\r\n                </span>\r\n                {\r\n                    post.content.length > 60 &&\r\n                    <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n                        {readMore ? 'Hide content' : 'Read more'}\r\n                    </span>\r\n                }\r\n\r\n            </div>\r\n            {\r\n                post.images.length > 0 && <Carousel images={post.images} id={post._id} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardBody\r\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst LikeButton = ({isLike, handleLike, handleUnLike}) => {\r\n    const { theme } = useSelector(state => state)\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLike\r\n                ? <i className=\"fas fa-heart text-danger\" onClick={handleUnLike}\r\n                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n                : <i className=\"far fa-heart\" onClick={handleLike} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LikeButton\r\n","import React from 'react'\r\nimport {\r\n    EmailShareButton, EmailIcon,\r\n    FacebookShareButton, FacebookIcon,\r\n    TelegramShareButton, TelegramIcon,\r\n    TwitterShareButton, TwitterIcon,\r\n    WhatsappShareButton, WhatsappIcon,\r\n    RedditShareButton, RedditIcon\r\n} from 'react-share'\r\n\r\nconst ShareModal = ({url, theme}) => {\r\n    return (\r\n        <div className=\"d-flex justify-content-between px-4 py-2\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n            <FacebookShareButton url={url} >\r\n                <FacebookIcon round={true} size={32} />\r\n            </FacebookShareButton>\r\n\r\n            <TwitterShareButton url={url} >\r\n                <TwitterIcon round={true} size={32} />\r\n            </TwitterShareButton>\r\n\r\n            <EmailShareButton url={url} >\r\n                <EmailIcon round={true} size={32} />\r\n            </EmailShareButton>\r\n\r\n            <RedditShareButton url={url} >\r\n                <RedditIcon round={true} size={32} />\r\n            </RedditShareButton>\r\n\r\n            <TelegramShareButton url={url} >\r\n                <TelegramIcon round={true} size={32} />\r\n            </TelegramShareButton>\r\n\r\n            <WhatsappShareButton url={url} >\r\n                <WhatsappIcon round={true} size={32} />\r\n            </WhatsappShareButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShareModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Send from '../../../images/send.svg'\r\nimport LikeButton from '../../LikeButton'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction'\r\nimport ShareModal from '../../ShareModal'\r\nimport { BASE_URL } from '../../../utils/config'\r\n\r\n\r\nconst CardFooter = ({post}) => {\r\n    const [isLike, setIsLike] = useState(false)\r\n    const [loadLike, setLoadLike] = useState(false)\r\n\r\n    const [isShare, setIsShare] = useState(false)\r\n\r\n    const { auth, theme, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [saved, setSaved] = useState(false)\r\n    const [saveLoad, setSaveLoad] = useState(false)\r\n\r\n    // Likes\r\n    useEffect(() => {\r\n        if(post.likes.find(like => like._id === auth.user._id)){\r\n            setIsLike(true)\r\n        }else{\r\n            setIsLike(false)\r\n        }\r\n    }, [post.likes, auth.user._id])\r\n\r\n    const handleLike = async () => {\r\n        if(loadLike) return;\r\n        \r\n        setLoadLike(true)\r\n        await dispatch(likePost({post, auth, socket}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n    const handleUnLike = async () => {\r\n        if(loadLike) return;\r\n\r\n        setLoadLike(true)\r\n        await dispatch(unLikePost({post, auth, socket}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n\r\n    // Saved\r\n    useEffect(() => {\r\n        if(auth.user.saved.find(id => id === post._id)){\r\n            setSaved(true)\r\n        }else{\r\n            setSaved(false)\r\n        }\r\n    },[auth.user.saved, post._id])\r\n\r\n    const handleSavePost = async () => {\r\n        if(saveLoad) return;\r\n        \r\n        setSaveLoad(true)\r\n        await dispatch(savePost({post, auth}))\r\n        setSaveLoad(false)\r\n    }\r\n\r\n    const handleUnSavePost = async () => {\r\n        if(saveLoad) return;\r\n\r\n        setSaveLoad(true)\r\n        await dispatch(unSavePost({post, auth}))\r\n        setSaveLoad(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card_footer\">\r\n            <div className=\"card_icon_menu\">\r\n                <div>\r\n                    <LikeButton \r\n                    isLike={isLike}\r\n                    handleLike={handleLike}\r\n                    handleUnLike={handleUnLike}\r\n                    />\r\n\r\n                    <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n                        <i className=\"far fa-comment\" />\r\n                    </Link>\r\n\r\n                    <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} />\r\n                </div>\r\n\r\n                {\r\n                    saved \r\n                    ?  <i className=\"fas fa-bookmark text-info\"\r\n                    onClick={handleUnSavePost} />\r\n\r\n                    :  <i className=\"far fa-bookmark\"\r\n                    onClick={handleSavePost} />\r\n                }\r\n               \r\n            </div>\r\n\r\n            <div className=\"d-flex justify-content-between\">\r\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\r\n                    {post.likes.length} likes\r\n                </h6>\r\n                \r\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\r\n                    {post.comments.length} comments\r\n                </h6>\r\n            </div>\r\n\r\n            {\r\n                isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardFooter\r\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes'\r\nimport { POST_TYPES } from './postAction'\r\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\r\nimport { createNotify, removeNotify } from '../actions/notifyAction'\r\n\r\n\r\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, comments: [...post.comments, newComment]}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    try {\r\n        const data = {...newComment, postId: post._id, postUserId: post.user._id}\r\n        const res = await postDataAPI('comment', data, auth.token)\r\n\r\n        const newData = {...res.data.newComment, user: auth.user}\r\n        const newPost = {...post, comments: [...post.comments, newData]}\r\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n        // Socket\r\n        socket.emit('createComment', newPost)\r\n\r\n        // Notify\r\n        const msg = {\r\n            id: res.data.newComment._id,\r\n            text: newComment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\r\n            recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n            url: `/post/${post._id}`,\r\n            content: post.content, \r\n            image: post.images[0].url\r\n        }\r\n\r\n        dispatch(createNotify({msg, auth, socket}))\r\n        \r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\r\n    const newComments = EditData(post.comments, comment._id, {...comment, content})\r\n    const newPost = {...post, comments: newComments}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n    try {\r\n        patchDataAPI(`comment/${comment._id}`, { content }, auth.token)\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const likeComment = ({comment, post, auth}) => async (dispatch) => {\r\n    const newComment = {...comment, likes: [...comment.likes, auth.user]}\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment)\r\n\r\n    const newPost = {...post, comments: newComments}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    try {\r\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const unLikeComment = ({comment, post, auth}) => async (dispatch) => {\r\n\r\n    const newComment = {...comment, likes: DeleteData(comment.likes, auth.user._id)}\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment)\r\n\r\n    const newPost = {...post, comments: newComments}\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    try {\r\n        await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token)\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n}\r\n\r\nexport const deleteComment = ({post, comment, auth, socket}) => async (dispatch) => {\r\n    const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment]\r\n    \r\n    const newPost = {\r\n        ...post,\r\n        comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\r\n    }\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\r\n\r\n    socket.emit('deleteComment', newPost)\r\n    try {\r\n       deleteArr.forEach(item => {\r\n            deleteDataAPI(`comment/${item._id}`, auth.token)\r\n\r\n            const msg = {\r\n                id: item._id,\r\n                text: comment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\r\n                recipients: comment.reply ? [comment.tag._id] : [post.user._id],\r\n                url: `/post/${post._id}`,\r\n            }\r\n    \r\n            dispatch(removeNotify({msg, auth, socket}))\r\n       })\r\n    } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteComment } from '../../../redux/actions/commentAction'\r\n\r\nconst CommentMenu = ({post, comment, setOnEdit}) => {\r\n\r\n    const { auth, socket } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleRemove = () => {\r\n        if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\r\n            dispatch(deleteComment({post, auth, comment, socket}))\r\n        }\r\n    }\r\n\r\n    const MenuItem = () => {\r\n        return(\r\n            <>\r\n                <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n                    <span className=\"material-icons\">create</span> Edit\r\n                </div>\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                    <span className=\"material-icons\">delete_outline</span> Remove\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"menu\">\r\n            {\r\n                (post.user._id === auth.user._id || comment.user._id === auth.user._id) &&\r\n                <div className=\"nav-item dropdown\">\r\n                    <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n                        more_vert\r\n                    </span>\r\n\r\n                    <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n                        {\r\n                            post.user._id === auth.user._id\r\n                            ? comment.user._id === auth.user._id\r\n                                ? MenuItem()\r\n                                : <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                                    <span className=\"material-icons\">delete_outline</span> Remove\r\n                                </div>\r\n                            : comment.user._id === auth.user._id && MenuItem()\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentMenu\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { createComment } from '../../redux/actions/commentAction'\r\nimport Icons from '../Icons'\r\n\r\nconst InputComment = ({children, post, onReply, setOnReply}) => {\r\n    const [content, setContent] = useState('')\r\n\r\n    const { auth, socket, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if(!content.trim()){\r\n            if(setOnReply) return setOnReply(false);\r\n            return;\r\n        }\r\n\r\n        setContent('')\r\n        \r\n        const newComment = {\r\n            content,\r\n            likes: [],\r\n            user: auth.user,\r\n            createdAt: new Date().toISOString(),\r\n            reply: onReply && onReply.commentId,\r\n            tag: onReply && onReply.user\r\n        }\r\n        \r\n        dispatch(createComment({post, newComment, auth, socket}))\r\n\r\n        if(setOnReply) return setOnReply(false);\r\n    }\r\n\r\n    return (\r\n        <form className=\"card-footer comment_input\" onSubmit={handleSubmit} >\r\n            {children}\r\n            <input type=\"text\" placeholder=\"Add your comments...\"\r\n            value={content} onChange={e => setContent(e.target.value)}\r\n            style={{\r\n                filter: theme ? 'invert(1)' : 'invert(0)',\r\n                color: theme ? 'white' : '#111',\r\n                background: theme ? 'rgba(0,0,0,.03)' : '',\r\n            }} />\r\n\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n\r\n            <button type=\"submit\" className=\"postBtn\">\r\n                Post\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default InputComment\r\n","import React, { useState, useEffect } from 'react'\r\nimport Avatar from '../../Avatar'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment'\r\n\r\nimport LikeButton from '../../LikeButton'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport CommentMenu from './CommentMenu'\r\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction'\r\nimport InputComment from '../InputComment'\r\n\r\nconst CommentCard = ({children, comment, post, commentId}) => {\r\n    const { auth, theme } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n\r\n    const [content, setContent] = useState('')\r\n    const [readMore, setReadMore] = useState(false)\r\n\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [isLike, setIsLike] = useState(false)\r\n    const [loadLike, setLoadLike] = useState(false)\r\n\r\n    const [onReply, setOnReply] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        setContent(comment.content)\r\n        setIsLike(false)\r\n        setOnReply(false)\r\n        if(comment.likes.find(like => like._id === auth.user._id)){\r\n            setIsLike(true)\r\n        }\r\n    },[comment, auth.user._id])\r\n\r\n    const handleUpdate = () => {\r\n        if(comment.content !== content){\r\n            dispatch(updateComment({comment, post, content, auth}))\r\n            setOnEdit(false)\r\n        }else{\r\n            setOnEdit(false)\r\n        }\r\n    }\r\n\r\n\r\n    const handleLike = async () => {\r\n        if(loadLike) return;\r\n        setIsLike(true)\r\n\r\n        setLoadLike(true)\r\n        await dispatch(likeComment({comment, post, auth}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n    const handleUnLike = async () => {\r\n        if(loadLike) return;\r\n        setIsLike(false)\r\n\r\n        setLoadLike(true)\r\n        await dispatch(unLikeComment({comment, post, auth}))\r\n        setLoadLike(false)\r\n    }\r\n\r\n\r\n    const handleReply = () => {\r\n        if(onReply) return setOnReply(false)\r\n        setOnReply({...comment, commentId})\r\n    }\r\n\r\n    const styleCard = {\r\n        opacity: comment._id ? 1 : 0.5,\r\n        pointerEvents: comment._id ? 'inherit' : 'none'\r\n    }\r\n\r\n    return (\r\n        <div className=\"comment_card mt-2\" style={styleCard}>\r\n            <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n                <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n                <h6 className=\"mx-1\">{comment.user.username}</h6>\r\n            </Link>\r\n\r\n            <div className=\"comment_content\">\r\n                <div className=\"flex-fill\" \r\n                style={{\r\n                    filter: theme ? 'invert(1)' : 'invert(0)',\r\n                    color: theme ? 'white' : '#111',\r\n                }}>\r\n                    {\r\n                        onEdit \r\n                        ? <textarea rows=\"5\" value={content}\r\n                        onChange={e => setContent(e.target.value)} />\r\n\r\n                        : <div>\r\n                            {\r\n                                comment.tag && comment.tag._id !== comment.user._id &&\r\n                                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\r\n                                    @{comment.tag.username}\r\n                                </Link>\r\n                            }\r\n                            <span>\r\n                                {\r\n                                    content.length < 100 ? content :\r\n                                    readMore ? content + ' ' : content.slice(0, 100) + '....'\r\n                                }\r\n                            </span>\r\n                            {\r\n                                content.length > 100 &&\r\n                                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n                                    {readMore ? 'Hide content' : 'Read more'}\r\n                                </span>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    \r\n\r\n                    <div style={{cursor: 'pointer'}}>\r\n                        <small className=\"text-muted mr-3\">\r\n                            {moment(comment.createdAt).fromNow()}\r\n                        </small>\r\n\r\n                        <small className=\"font-weight-bold mr-3\">\r\n                            {comment.likes.length} likes\r\n                        </small>\r\n\r\n                        {\r\n                            onEdit\r\n                            ? <>\r\n                                <small className=\"font-weight-bold mr-3\"\r\n                                onClick={handleUpdate}>\r\n                                    update\r\n                                </small>\r\n                                <small className=\"font-weight-bold mr-3\"\r\n                                onClick={() => setOnEdit(false)}>\r\n                                    cancel\r\n                                </small>\r\n                            </>\r\n\r\n                            : <small className=\"font-weight-bold mr-3\"\r\n                            onClick={handleReply}>\r\n                                {onReply ? 'cancel' :'reply'}\r\n                            </small>\r\n                        }\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n\r\n                <div className=\"d-flex align-items-center mx-2\" style={{cursor: 'pointer'}}>\r\n                    <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\r\n                    <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\r\n                </div>\r\n            </div> \r\n            \r\n            {\r\n                onReply &&\r\n                <InputComment post={post} onReply={onReply} setOnReply={setOnReply} >\r\n                    <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\r\n                        @{onReply.user.username}:\r\n                    </Link>\r\n                </InputComment>\r\n            }\r\n\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentCard\r\n","import React, { useState, useEffect } from 'react'\r\nimport CommentCard from './CommentCard'\r\n\r\nconst CommentDisplay = ({comment, post, replyCm}) => {\r\n    const [showRep, setShowRep] = useState([])\r\n    const [next, setNext] = useState(1)\r\n\r\n    useEffect(() => {\r\n        setShowRep(replyCm.slice(replyCm.length - next))\r\n    },[replyCm, next])\r\n\r\n    return (\r\n        <div className=\"comment_display\">\r\n            <CommentCard comment={comment} post={post} commentId={comment._id} >\r\n                <div className=\"pl-4\">\r\n                    {\r\n                        showRep.map((item, index) => (\r\n                            item.reply &&\r\n                            <CommentCard\r\n                            key={index}\r\n                            comment={item}\r\n                            post={post}\r\n                            commentId={comment._id}\r\n                             />\r\n                        ))\r\n                    }\r\n\r\n                    {\r\n                        replyCm.length - next > 0\r\n                        ? <div style={{cursor: 'pointer', color: 'crimson'}}\r\n                        onClick={() => setNext(next + 10)}>\r\n                            See more comments...\r\n                        </div>\r\n\r\n                        : replyCm.length > 1 &&\r\n                        <div style={{cursor: 'pointer', color: 'crimson'}}\r\n                        onClick={() => setNext(1)}>\r\n                            Hide comments...\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </CommentCard>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentDisplay\r\n","import React, { useState, useEffect } from 'react'\r\nimport CommentDisplay from './comments/CommentDisplay'\r\n\r\nconst Comments = ({post}) => {\r\n    const [comments, setComments] = useState([])\r\n    const [showComments, setShowComments] = useState([])\r\n    const [next, setNext] = useState(2)\r\n\r\n    const [replyComments, setReplyComments] = useState([])\r\n\r\n    useEffect(() => {\r\n        const newCm = post.comments.filter(cm => !cm.reply)\r\n        setComments(newCm)\r\n        setShowComments(newCm.slice(newCm.length - next))\r\n    },[post.comments, next])\r\n\r\n    useEffect(()=> {\r\n        const newRep = post.comments.filter(cm => cm.reply)\r\n        setReplyComments(newRep)\r\n    }, [post.comments])\r\n\r\n    return (\r\n        <div className=\"comments\">\r\n            {\r\n                showComments.map((comment, index) => (\r\n                    <CommentDisplay key={index} comment={comment} post={post}\r\n                    replyCm={replyComments.filter(item => item.reply === comment._id)} />\r\n                ))\r\n            }\r\n\r\n            {\r\n                comments.length - next > 0\r\n                ? <div className=\"p-2 border-top\"\r\n                style={{cursor: 'pointer', color: 'crimson'}}\r\n                onClick={() => setNext(next + 10)}>\r\n                    See more comments...\r\n                </div>\r\n\r\n                : comments.length > 2 &&\r\n                <div className=\"p-2 border-top\"\r\n                style={{cursor: 'pointer', color: 'crimson'}}\r\n                onClick={() => setNext(2)}>\r\n                    Hide comments...\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comments\r\n","import React from 'react'\r\nimport CardHeader from './home/post_card/CardHeader'\r\nimport CardBody from './home/post_card/CardBody'\r\nimport CardFooter from './home/post_card/CardFooter'\r\n\r\nimport Comments from './home/Comments'\r\nimport InputComment from './home/InputComment'\r\n\r\nconst PostCard = ({post, theme}) => {\r\n    return (\r\n        <div className=\"card my-3\"> \r\n            <CardHeader post={post} />\r\n            <CardBody post={post} theme={theme} />\r\n            <CardFooter post={post} />\r\n\r\n            <Comments post={post} />\r\n            <InputComment post={post} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostCard\r\n"],"sourceRoot":""}